<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="å®¹å™¨,linux," />





  <link rel="alternate" href="/atom.xml" title="å°¤å°”å°å±‹" type="application/atom+xml" />






<meta name="description" content="2ä¸‡+å­—ï¼Œé‡å­¦Dockerå®¹å™¨ æœ€è¿‘ç½‘ä¸Šçœ‹åˆ°ä¸€ç¯‡å…³äºDockerå®¹å™¨æ–‡ç« ï¼Œæ€»ç»“çš„éå¸¸å…¨é¢ï¼Œéå¸¸é€‚åˆå…¥é—¨ï¼Œä¸»è¦å†…å®¹åŒ…å«ï¼š">
<meta name="keywords" content="å®¹å™¨,linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨">
<meta property="og:url" content="http:&#x2F;&#x2F;www.renpeter.cn&#x2F;2022&#x2F;04&#x2F;28&#x2F;Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html">
<meta property="og:site_name" content="å°¤å°”å°å±‹">
<meta property="og:description" content="2ä¸‡+å­—ï¼Œé‡å­¦Dockerå®¹å™¨ æœ€è¿‘ç½‘ä¸Šçœ‹åˆ°ä¸€ç¯‡å…³äºDockerå®¹å™¨æ–‡ç« ï¼Œæ€»ç»“çš„éå¸¸å…¨é¢ï¼Œéå¸¸é€‚åˆå…¥é—¨ï¼Œä¸»è¦å†…å®¹åŒ…å«ï¼š">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pqgpko8pj218q0u0tda.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pqqfw1hsj20bk096glm.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq4acyebj20c80a974q.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq4ah9gjj20js07wgmg.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq4kftcoj20js06eq3g.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq501pv7j20js085my1.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq5gf31nj20js0djjsl.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq655ez6j20js06ojse.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq6bjl4rj20fb0dcq4g.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq7mymswj20hg05tdg3.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq7qgzpdj20ja0ao40o.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq7yq904j20ho0903z9.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq8dst79j20gn07f0sx.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq8gez0fj20js06nmxf.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pq8k59juj20ht07ht92.jpg">
<meta property="og:updated_time" content="2022-04-28T13:32:16.145Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;e6c9d24ely1h1pqgpko8pj218q0u0tda.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    
    emojis: {
      className: 'github-emoji'
    }
  };
</script>



  <link rel="canonical" href="http://www.renpeter.cn/2022/04/28/Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨.html"/>





  <title>Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨ | å°¤å°”å°å±‹</title>
  








</head>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

   <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/pidada" target="_blank" rel="noopener"><img style="position: absolute; top: 0; right: 0; border: 0" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">å°¤å°”å°å±‹</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Stay Foolish Stay Hungry</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-links">
          <a href="/links/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            links
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.renpeter.cn/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiQianChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cunshang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å°¤å°”å°å±‹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-04-28T21:30:24+08:00">
                2022-4-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2022/04/28/Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  8.8k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  40
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="2ä¸‡-å­—ï¼Œé‡å­¦Dockerå®¹å™¨">2ä¸‡+å­—ï¼Œé‡å­¦Dockerå®¹å™¨</h2>
<p>æœ€è¿‘ç½‘ä¸Šçœ‹åˆ°ä¸€ç¯‡å…³äºDockerå®¹å™¨æ–‡ç« ï¼Œæ€»ç»“çš„éå¸¸å…¨é¢ï¼Œéå¸¸é€‚åˆå…¥é—¨ï¼Œä¸»è¦å†…å®¹åŒ…å«ï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pqgpko8pj218q0u0tda.jpg" alt=""></p>
<a id="more"></a>
<p>ä»¥å‰å­¦è¿‡ä¸€æ®µæ—¶é—´çš„å®¹å™¨Dockerï¼Œåæ¥å°±æ·¡äº†~ä½†æ˜¯ç”µè„‘ä¸Šè¿˜æ˜¯ä¸‹è½½äº†Dockerï¼å¸Œæœ›å¼€å¯é‡å­¦Dockerä¹‹è·¯</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pqqfw1hsj20bk096glm.jpg" alt=""></p>
<blockquote>
<p>è½¬è‡ªï¼š<a href="https://www.cnblogs.com/clsn/p/8410309.html" target="_blank" rel="noopener">https://www.cnblogs.com/clsn/p/8410309.html</a></p>
</blockquote>
<h2 id="1-1-å®¹å™¨ç®€ä»‹">1.1 å®¹å™¨ç®€ä»‹</h2>
<h3 id="1-1-1-ä»€ä¹ˆæ˜¯-Linux-å®¹å™¨">1.1.1 ä»€ä¹ˆæ˜¯ Linux å®¹å™¨</h3>
<p>Linuxå®¹å™¨æ˜¯ä¸ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†éš”ç¦»å¼€çš„ä¸€ç³»åˆ—è¿›ç¨‹ï¼Œä»å¦ä¸€ä¸ªé•œåƒè¿è¡Œï¼Œå¹¶ç”±è¯¥é•œåƒæä¾›æ”¯æŒè¿›ç¨‹æ‰€éœ€çš„å…¨éƒ¨æ–‡ä»¶ã€‚å®¹å™¨æä¾›çš„é•œåƒåŒ…å«äº†åº”ç”¨çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå› è€Œåœ¨ä»å¼€å‘åˆ°æµ‹è¯•å†åˆ°ç”Ÿäº§çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®ƒéƒ½å…·æœ‰å¯ç§»æ¤æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq4acyebj20c80a974q.jpg" alt="img"></p>
<blockquote>
<p>æ›´åŠ è¯¦ç»†åœ°æ¥è¯´ï¼Œè¯·æ‚¨å‡å®šæ‚¨åœ¨å¼€å‘ä¸€ä¸ªåº”ç”¨ã€‚æ‚¨ä½¿ç”¨çš„æ˜¯ä¸€å°ç¬”è®°æœ¬ç”µè„‘ï¼Œè€Œä¸”æ‚¨çš„å¼€å‘ç¯å¢ƒå…·æœ‰ç‰¹å®šçš„é…ç½®ã€‚å…¶ä»–å¼€å‘äººå‘˜èº«å¤„çš„ç¯å¢ƒé…ç½®å¯èƒ½ç¨æœ‰ä¸åŒã€‚</p>
<p>æ‚¨æ­£åœ¨å¼€å‘çš„åº”ç”¨ä¾èµ–äºæ‚¨å½“å‰çš„é…ç½®ï¼Œè¿˜è¦ä¾èµ–äºæŸäº›ç‰¹å®šæ–‡ä»¶ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‚¨çš„ä¼ä¸šè¿˜æ‹¥æœ‰æ ‡å‡†åŒ–çš„æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒï¼Œä¸”å…·æœ‰è‡ªèº«çš„é…ç½®å’Œä¸€ç³»åˆ—æ”¯æŒæ–‡ä»¶ã€‚æ‚¨å¸Œæœ›å°½å¯èƒ½å¤šåœ¨æœ¬åœ°æ¨¡æ‹Ÿè¿™äº›ç¯å¢ƒï¼Œè€Œä¸äº§ç”Ÿé‡æ–°åˆ›å»ºæœåŠ¡å™¨ç¯å¢ƒçš„å¼€é”€ã€‚</p>
<p>å› æ­¤ï¼Œæ‚¨è¦å¦‚ä½•ç¡®ä¿åº”ç”¨èƒ½å¤Ÿåœ¨è¿™äº›ç¯å¢ƒä¸­è¿è¡Œå’Œé€šè¿‡è´¨é‡æ£€æµ‹ï¼Œå¹¶ä¸”åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ä¸å‡ºç°ä»¤äººå¤´ç–¼çš„é—®é¢˜ï¼Œä¹Ÿæ— éœ€é‡æ–°ç¼–å†™ä»£ç å’Œè¿›è¡Œæ•…éšœä¿®å¤ï¼Ÿç­”æ¡ˆå°±æ˜¯ä½¿ç”¨å®¹å™¨ã€‚</p>
<p>å®¹å™¨å¯ä»¥ç¡®ä¿æ‚¨çš„åº”ç”¨æ‹¥æœ‰å¿…éœ€çš„é…ç½®å’Œæ–‡ä»¶ï¼Œä½¿å¾—è¿™äº›åº”ç”¨èƒ½å¤Ÿåœ¨ä»å¼€å‘åˆ°æµ‹è¯•ã€å†åˆ°ç”Ÿäº§çš„æ•´ä¸ªæµç¨‹ä¸­é¡ºåˆ©è¿è¡Œï¼Œè€Œä¸å‡ºç°ä»»ä½•ä¸è‰¯é—®é¢˜ã€‚è¿™æ ·å¯ä»¥é¿å…å±æœºï¼Œåšåˆ°çš†å¤§æ¬¢å–œã€‚</p>
</blockquote>
<p>è™½ç„¶è¿™åªæ˜¯ç®€åŒ–çš„ç¤ºä¾‹ï¼Œä½†åœ¨éœ€è¦å¾ˆé«˜çš„å¯ç§»æ¤æ€§ã€å¯é…ç½®æ€§å’Œéš”ç¦»çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Linux å®¹å™¨é€šè¿‡å¾ˆå¤šæ–¹å¼è§£å†³éš¾é¢˜ã€‚æ— è®ºåŸºç¡€æ¶æ„æ˜¯åœ¨ä¼ä¸šå†…éƒ¨è¿˜æ˜¯åœ¨äº‘ç«¯ï¼Œæˆ–è€…æ··åˆä½¿ç”¨ä¸¤è€…ï¼Œå®¹å™¨éƒ½èƒ½æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚</p>
<h3 id="1-1-2-å®¹å™¨ä¸å°±æ˜¯è™šæ‹ŸåŒ–å—">1.1.2 å®¹å™¨ä¸å°±æ˜¯è™šæ‹ŸåŒ–å—</h3>
<p>æ˜¯ï¼Œä½†ä¹Ÿä¸ç«Ÿç„¶ã€‚æˆ‘ä»¬ç”¨ä¸€ç§ç®€å•æ–¹å¼æ¥æ€è€ƒä¸€ä¸‹ï¼š</p>
<p>è™šæ‹ŸåŒ–ä½¿å¾—è®¸å¤šæ“ä½œç³»ç»Ÿå¯åŒæ—¶åœ¨å•ä¸ªç³»ç»Ÿä¸Šè¿è¡Œã€‚</p>
<p>å®¹å™¨åˆ™å¯å…±äº«åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå°†åº”ç”¨è¿›ç¨‹ä¸ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†éš”ç¦»å¼€ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq4ah9gjj20js07wgmg.jpg" alt="å›¾ - æ™®é€šè™šæ‹ŸåŒ–æŠ€æœ¯å’ŒDockerçš„å¯¹æ¯”"></p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œè®©å¤šä¸ªæ“ä½œç³»ç»Ÿåœ¨å•ä¸ªè™šæ‹Ÿæœºç›‘æ§ç¨‹åºä¸Šè¿è¡Œä»¥å®ç°è™šæ‹ŸåŒ–ï¼Œå¹¶ä¸èƒ½è¾¾æˆå’Œä½¿ç”¨å®¹å™¨åŒç­‰çš„è½»é‡çº§æ•ˆæœã€‚</p>
<p>äº‹å®ä¸Šï¼Œåœ¨ä»…æ‹¥æœ‰å®¹é‡æœ‰é™çš„æœ‰é™èµ„æºæ—¶ï¼Œæ‚¨éœ€è¦èƒ½å¤Ÿå¯ä»¥è¿›è¡Œå¯†é›†éƒ¨ç½²çš„è½»é‡çº§åº”ç”¨ã€‚Linux å®¹å™¨å¯ä»å•ä¸ªæ“ä½œç³»ç»Ÿè¿è¡Œï¼Œåœ¨æ‰€æœ‰å®¹å™¨ä¸­å…±äº«è¯¥æ“ä½œç³»ç»Ÿï¼Œå› æ­¤åº”ç”¨å’ŒæœåŠ¡èƒ½å¤Ÿä¿æŒè½»é‡çº§ï¼Œå¹¶è¡Œå¿«é€Ÿè¿è¡Œã€‚</p>
<h3 id="1-1-3-å®¹å™¨å‘å±•ç®€å²">1.1.3 å®¹å™¨å‘å±•ç®€å²</h3>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq4kftcoj20js06eq3g.jpg" alt="img"></p>
<p>æˆ‘ä»¬ç°åœ¨ç§°ä¸ºå®¹å™¨æŠ€æœ¯çš„æ¦‚å¿µæœ€åˆå‡ºç°åœ¨ 2000 å¹´ï¼Œå½“æ—¶ç§°ä¸º FreeBSD jailï¼Œè¿™ç§æŠ€æœ¯å¯å°† FreeBSD ç³»ç»Ÿåˆ†åŒºä¸ºå¤šä¸ªå­ç³»ç»Ÿï¼ˆä¹Ÿç§°ä¸º Jailï¼‰ã€‚Jail æ˜¯ä½œä¸ºå®‰å…¨ç¯å¢ƒè€Œå¼€å‘çš„ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä¸ä¼ä¸šå†…éƒ¨æˆ–å¤–éƒ¨çš„å¤šä¸ªç”¨æˆ·å…±äº«è¿™äº› Jailã€‚</p>
<p>Jail çš„ç›®çš„æ˜¯è®©è¿›ç¨‹åœ¨ç»è¿‡ä¿®æ”¹çš„ <em>chroot</em> ç¯å¢ƒä¸­åˆ›å»ºï¼Œè€Œä¸ä¼šè„±ç¦»å’Œå½±å“æ•´ä¸ªç³»ç»Ÿ â€” åœ¨ chroot ç¯å¢ƒä¸­ï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œå’Œç”¨æˆ·çš„è®¿é—®éƒ½å®ç°äº†è™šæ‹ŸåŒ–ã€‚å°½ç®¡ Jail åœ¨å®æ–½æ–¹é¢å­˜åœ¨å±€é™æ€§ï¼Œä½†æœ€ç»ˆäººä»¬æ‰¾åˆ°äº†è„±ç¦»è¿™ç§éš”ç¦»ç¯å¢ƒçš„æ–¹æ³•ã€‚</p>
<p>ä½†è¿™ä¸ªæ¦‚å¿µéå¸¸æœ‰å¸å¼•åŠ›ã€‚</p>
<p>2001 å¹´ï¼Œé€šè¿‡ Jacques GÃ©linas çš„ VServer é¡¹ç›®ï¼Œéš”ç¦»ç¯å¢ƒçš„å®æ–½è¿›å…¥äº† Linux é¢†åŸŸã€‚æ­£å¦‚ GÃ©linas æ‰€è¯´ï¼Œè¿™é¡¹å·¥ä½œçš„ç›®çš„æ˜¯â€œåœ¨é«˜åº¦ç‹¬ç«‹ä¸”å®‰å…¨çš„å•ä¸€ç¯å¢ƒä¸­è¿è¡Œå¤šä¸ªé€šç”¨ Linux æœåŠ¡å™¨ [sic]ã€‚â€ åœ¨å®Œæˆäº†è¿™é¡¹é’ˆå¯¹ Linux ä¸­å¤šä¸ªå—æ§åˆ¶ç”¨æˆ·ç©ºé—´çš„åŸºç¡€æ€§å·¥ä½œåï¼ŒLinux å®¹å™¨å¼€å§‹é€æ¸æˆå½¢å¹¶æœ€ç»ˆå‘å±•æˆäº†ç°åœ¨çš„æ¨¡æ ·ã€‚</p>
<h2 id="1-2-ä»€ä¹ˆæ˜¯-Dockerï¼Ÿ">1.2 ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ</h2>
<p>â€œDockerâ€ ä¸€è¯æŒ‡ä»£å¤šç§äº‹ç‰©ï¼ŒåŒ…æ‹¬å¼€æºç¤¾åŒºé¡¹ç›®ã€å¼€æºé¡¹ç›®ä½¿ç”¨çš„å·¥å…·ã€ä¸»å¯¼æ”¯æŒæ­¤ç±»é¡¹ç›®çš„å…¬å¸ Docker Inc. ä»¥åŠè¯¥å…¬å¸å®˜æ–¹æ”¯æŒçš„å·¥å…·ã€‚æŠ€æœ¯äº§å“å’Œå…¬å¸ä½¿ç”¨åŒä¸€åç§°ï¼Œçš„ç¡®è®©äººæœ‰ç‚¹å›°æƒ‘ã€‚</p>
<p>æˆ‘ä»¬æ¥ç®€å•è¯´æ˜ä¸€ä¸‹ï¼š</p>
<blockquote>
<p>ğŸ IT è½¯ä»¶ä¸­æ‰€è¯´çš„ â€œDockerâ€ ï¼Œæ˜¯æŒ‡å®¹å™¨åŒ–æŠ€æœ¯ï¼Œç”¨äºæ”¯æŒåˆ›å»ºå’Œä½¿ç”¨ Linux å®¹å™¨ã€‚</p>
<p>ğŸ å¼€æº Docker ç¤¾åŒºè‡´åŠ›äºæ”¹è¿›è¿™ç±»æŠ€æœ¯ï¼Œå¹¶å…è´¹æä¾›ç»™æ‰€æœ‰ç”¨æˆ·ï¼Œä½¿ä¹‹è·ç›Šã€‚</p>
<p>ğŸ Docker Inc. å…¬å¸å‡­å€Ÿ Docker ç¤¾åŒºäº§å“èµ·å®¶ï¼Œå®ƒä¸»è¦è´Ÿè´£æå‡ç¤¾åŒºç‰ˆæœ¬çš„å®‰å…¨æ€§ï¼Œå¹¶å°†æ”¹è¿›åçš„ç‰ˆæœ¬ä¸æ›´å¹¿æ³›çš„æŠ€æœ¯ç¤¾åŒºåˆ†äº«ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ä¸“é—¨å¯¹è¿™äº›æŠ€æœ¯äº§å“è¿›è¡Œå®Œå–„å’Œå®‰å…¨å›ºåŒ–ï¼Œä»¥æœåŠ¡äºä¼ä¸šå®¢æˆ·ã€‚</p>
</blockquote>
<p>å€ŸåŠ© Docker ï¼Œæ‚¨å¯å°†å®¹å™¨å½“åšé‡é‡è½»ã€æ¨¡å—åŒ–çš„è™šæ‹Ÿæœºä½¿ç”¨ã€‚åŒæ—¶ï¼Œæ‚¨è¿˜å°†è·å¾—é«˜åº¦çš„çµæ´»æ€§ï¼Œä»è€Œå®ç°å¯¹å®¹å™¨çš„é«˜æ•ˆåˆ›å»ºã€éƒ¨ç½²åŠå¤åˆ¶ï¼Œå¹¶èƒ½å°†å…¶ä»ä¸€ä¸ªç¯å¢ƒé¡ºåˆ©è¿ç§»è‡³å¦ä¸€ä¸ªç¯å¢ƒã€‚</p>
<h3 id="1-2-1-Docker-å¦‚ä½•å·¥ä½œï¼Ÿ">1.2.1 Docker å¦‚ä½•å·¥ä½œï¼Ÿ</h3>
<p>Docker æŠ€æœ¯ä½¿ç”¨ Linux å†…æ ¸å’Œå†…æ ¸åŠŸèƒ½ï¼ˆä¾‹å¦‚ <em>Cgroups</em> <em>å’Œ namespaces</em>ï¼‰æ¥åˆ†éš”è¿›ç¨‹ï¼Œä»¥ä¾¿å„è¿›ç¨‹ç›¸äº’ç‹¬ç«‹è¿è¡Œã€‚è¿™ç§ç‹¬ç«‹æ€§æ­£æ˜¯é‡‡ç”¨å®¹å™¨çš„ç›®çš„æ‰€åœ¨ï¼›å®ƒå¯ä»¥ç‹¬ç«‹è¿è¡Œå¤šç§è¿›ç¨‹ã€å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œæ›´åŠ å……åˆ†åœ°å‘æŒ¥åŸºç¡€è®¾æ–½çš„ä½œç”¨ï¼ŒåŒæ—¶ä¿æŒå„ä¸ªç‹¬ç«‹ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p>
<p>å®¹å™¨å·¥å…·ï¼ˆåŒ…æ‹¬ Dockerï¼‰å¯æä¾›åŸºäºé•œåƒçš„éƒ¨ç½²æ¨¡å¼ã€‚è¿™ä½¿å¾—å®ƒèƒ½å¤Ÿè½»æ¾è·¨å¤šç§ç¯å¢ƒï¼Œä¸å…¶ä¾èµ–ç¨‹åºå…±äº«åº”ç”¨æˆ–æœåŠ¡ç»„ã€‚Docker è¿˜å¯åœ¨è¿™ä¸€å®¹å™¨ç¯å¢ƒä¸­è‡ªåŠ¨éƒ¨ç½²åº”ç”¨ç¨‹åºï¼ˆæˆ–è€…åˆå¹¶å¤šç§æµç¨‹ï¼Œä»¥æ„å»ºå•ä¸ªåº”ç”¨ç¨‹åºï¼‰ã€‚</p>
<p>æ­¤å¤–ï¼Œç”±äºè¿™äº›å·¥å…·åŸºäº Linux å®¹å™¨æ„å»ºï¼Œä½¿å¾— Docker æ—¢æ˜“äºä½¿ç”¨ï¼Œåˆåˆ«å…·ä¸€æ ¼ â€”â€” å®ƒå¯ä¸ºç”¨æˆ·æä¾›å‰æ‰€æœªæœ‰çš„é«˜åº¦åº”ç”¨ç¨‹è®¿é—®æƒé™ã€å¿«é€Ÿéƒ¨ç½²ä»¥åŠç‰ˆæœ¬æ§åˆ¶å’Œåˆ†å‘èƒ½åŠ›ã€‚</p>
<h3 id="1-2-2-Docker-æŠ€æœ¯æ˜¯å¦ä¸ä¼ ç»Ÿçš„-Linux-å®¹å™¨ç›¸åŒï¼Ÿ">1.2.2 Docker æŠ€æœ¯æ˜¯å¦ä¸ä¼ ç»Ÿçš„ Linux å®¹å™¨ç›¸åŒï¼Ÿ</h3>
<p>å¦ã€‚Docker æŠ€æœ¯æœ€åˆæ˜¯åŸºäº LXC æŠ€æœ¯æ„å»ºï¼ˆå¤§å¤šæ•°äººéƒ½ä¼šå°†è¿™ä¸€æŠ€æœ¯ä¸â€œä¼ ç»Ÿçš„â€ Linux å®¹å™¨è”ç³»åœ¨ä¸€èµ·ï¼‰ï¼Œä½†åæ¥å®ƒé€æ¸æ‘†è„±äº†å¯¹è¿™ç§æŠ€æœ¯çš„ä¾èµ–ã€‚</p>
<p>å°±è½»é‡çº§ è™šæ‹ŸåŒ– è¿™ä¸€åŠŸèƒ½æ¥çœ‹ï¼ŒLXC éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒæ— æ³•æä¾›å‡ºè‰²çš„å¼€å‘äººå‘˜æˆ–ç”¨æˆ·ä½“éªŒã€‚é™¤äº†è¿è¡Œå®¹å™¨ä¹‹å¤–ï¼ŒDocker æŠ€æœ¯è¿˜å…·å¤‡å…¶ä»–å¤šé¡¹åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç®€åŒ–ç”¨äºæ„å»ºå®¹å™¨ã€ä¼ è¾“é•œåƒä»¥åŠæ§åˆ¶é•œåƒç‰ˆæœ¬çš„æµç¨‹ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq501pv7j20js085my1.jpg" alt="img"></p>
<p>ä¼ ç»Ÿçš„ Linux å®¹å™¨ä½¿ç”¨ init ç³»ç»Ÿæ¥ç®¡ç†å¤šç§è¿›ç¨‹ã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿è¡Œã€‚ä¸æ­¤ç›¸åï¼ŒDocker æŠ€æœ¯é¼“åŠ±åº”ç”¨ç¨‹åºå„è‡ªç‹¬ç«‹è¿è¡Œå…¶è¿›ç¨‹ï¼Œå¹¶æä¾›ç›¸åº”å·¥å…·ä»¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚è¿™ç§ç²¾ç»†åŒ–è¿ä½œæ¨¡å¼è‡ªæœ‰å…¶ä¼˜åŠ¿ã€‚</p>
<h3 id="1-2-3-dockerçš„ç›®æ ‡">1.2.3 dockerçš„ç›®æ ‡</h3>
<p>dockerçš„ä¸»è¦ç›®æ ‡æ˜¯&quot;Build,Ship and Run any App,Angwhere&quot;,æ„å»ºï¼Œè¿è¾“ï¼Œå¤„å¤„è¿è¡Œ</p>
<p><strong>æ„å»º</strong>ï¼šåšä¸€ä¸ªdockeré•œåƒ</p>
<p><strong>è¿è¾“</strong>ï¼šdocker pull</p>
<p><strong>è¿è¡Œ</strong>ï¼šå¯åŠ¨ä¸€ä¸ªå®¹å™¨</p>
<p>æ¯ä¸€ä¸ªå®¹å™¨ï¼Œä»–éƒ½æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿrootfs.</p>
<h2 id="1-3-å®‰è£…Docker">1.3 å®‰è£…Docker</h2>
<p>ç¯å¢ƒè¯´æ˜</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> éœ€è¦ä¸¤å°å‡ ç‚¹è¿›è¡Œå®‰è£…</span></span><br><span class="line">[root@docker01 ~]# cat /etc/redhat-release</span><br><span class="line">CentOS Linux release 7.2.1511 (Core)</span><br><span class="line">[root@docker01 ~]# uname  -r</span><br><span class="line">3.10.0-327.el7.x86_64</span><br><span class="line">[root@docker01 ~]# hostname -I</span><br><span class="line">10.0.0.100 172.16.1.100</span><br><span class="line">[root@docker02 ~]# hostname -I</span><br><span class="line">10.0.0.101 172.16.1.101</span><br></pre></td></tr></table></figure>
<p>åœ¨<strong>ä¸¤ä¸ªèŠ‚ç‚¹</strong>ä¸Šéƒ½è¿›è¡Œæ“ä½œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/docker-ce.repo https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">sed -i 's#download.docker.com#mirrors.ustc.edu.cn/docker-ce#g' /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">yum install docker-ce -y</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹åœ¨docker01é…ç½®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¿®æ”¹å¯åŠ¨æ–‡ä»¶ï¼Œç›‘å¬è¿œç¨‹ç«¯å£</span></span><br><span class="line">vim /usr/lib/systemd/system/docker.service</span><br><span class="line">ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock -H tcp://10.0.0.100:2375</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl enable docker.service</span><br><span class="line">systemctl restart docker.service</span><br><span class="line"><span class="meta">#</span><span class="bash"> ps -efæ£€æŸ¥è¿›è¡Œï¼Œæ˜¯å¦å¯åŠ¨</span></span><br></pre></td></tr></table></figure>
<p>åœ¨docker02æµ‹è¯•</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@docker02 ~]# docker -H 10.0.0.100 info</span><br><span class="line">Containers: 0</span><br><span class="line"> Running: 0</span><br><span class="line"> Paused: 0</span><br><span class="line"> Stopped: 0</span><br><span class="line">Images: 0</span><br><span class="line">Server Version: 17.12.0-ce</span><br><span class="line">Storage Driver: devicemapper</span><br><span class="line">Â·Â·Â·</span><br></pre></td></tr></table></figure>
<h3 id="1-3-1-DockeråŸºç¡€å‘½ä»¤æ“ä½œ">1.3.1 DockeråŸºç¡€å‘½ä»¤æ“ä½œ</h3>
<p>æŸ¥çœ‹dockerç›¸å…³ä¿¡æ¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]#  docker version</span><br><span class="line">Client:</span><br><span class="line"> Version:    17.12.0-ce</span><br><span class="line"> API version:    1.35</span><br><span class="line"> Go version:    go1.9.2</span><br><span class="line"> Git commit:    c97c6d6</span><br><span class="line"> Built:    Wed Dec 27 20:10:14 2017</span><br><span class="line"> OS/Arch:    linux/amd64</span><br><span class="line">Server:</span><br><span class="line"> Engine:</span><br><span class="line">  Version:    17.12.0-ce</span><br><span class="line">  API version:    1.35 (minimum version 1.12)</span><br><span class="line">  Go version:    go1.9.2</span><br><span class="line">  Git commit:    c97c6d6</span><br><span class="line">  Built:    Wed Dec 27 20:12:46 2017</span><br><span class="line">  OS/Arch:    linux/amd64</span><br><span class="line">  Experimental:    false</span><br></pre></td></tr></table></figure>
<p>é…ç½®dockeré•œåƒåŠ é€Ÿ</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="meta-keyword">/etc/</span>docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://registry.docker-cn.com"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-å¯åŠ¨ç¬¬ä¸€ä¸ªå®¹å™¨">1.3.2 å¯åŠ¨ç¬¬ä¸€ä¸ªå®¹å™¨</h3>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker run -d -<span class="keyword">p</span> <span class="number">80</span>:<span class="number">80</span> nginx</span><br><span class="line">Unable <span class="keyword">to</span> <span class="keyword">find</span> image <span class="string">'nginx:latest'</span> locally</span><br><span class="line">lates<span class="variable">t:</span> Pulling from library/nginx</span><br><span class="line">e7bb522d92ff: Pull <span class="built_in">complete</span></span><br><span class="line"><span class="number">6</span>edc05228666: Pull <span class="built_in">complete</span></span><br><span class="line">cd866a17e81f: Pull <span class="built_in">complete</span></span><br><span class="line">Diges<span class="variable">t:</span> <span class="built_in">sha256</span>:<span class="number">285</span>b49d42c703fdf257d1e2422765c4ba9d3e37768d6ea83d7fe2043dad6e63d</span><br><span class="line">Statu<span class="variable">s:</span> Downloaded newer image <span class="keyword">for</span> nginx:latest</span><br><span class="line"><span class="number">8</span>d8f81da12b5c10af6ba1a5d07f4abc041cb95b01f3d632c3d638922800b0b4d</span><br><span class="line"># å®¹å™¨å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨è¿›è¡Œè®¿é—®æµ‹è¯•</span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜</p>
<table>
<thead>
<tr>
<th><strong>å‚æ•°</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>run</strong></td>
<td>åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨</td>
</tr>
<tr>
<td><strong>-d</strong></td>
<td>æ”¾å…¥åå°</td>
</tr>
<tr>
<td><strong>-p</strong></td>
<td>ç«¯å£æ˜ å°„</td>
</tr>
<tr>
<td><strong>nginx</strong></td>
<td>é•œåƒåç§°</td>
</tr>
</tbody>
</table>
<h3 id="1-3-3-Dockeré•œåƒç”Ÿå‘½å‘¨æœŸ">1.3.3 Dockeré•œåƒç”Ÿå‘½å‘¨æœŸ</h3>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq5gf31nj20js0djjsl.jpg" alt="img"></p>
<h2 id="1-4-dockeré•œåƒç›¸å…³æ“ä½œ">1.4 dockeré•œåƒç›¸å…³æ“ä½œ</h2>
<h3 id="1-4-1-æœç´¢å®˜æ–¹ä»“åº“é•œåƒ">1.4.1 æœç´¢å®˜æ–¹ä»“åº“é•œåƒ</h3>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="comment">#  docker search centos</span></span><br><span class="line">NAME                      DESCRIPTION                    STARS    OFFICIAL               AUTOMATED</span><br><span class="line">centos                    The official build <span class="keyword">of</span> CentOS.  <span class="number">3992</span>     [OK]</span><br><span class="line">ansible/centos7-ansible   Ansible <span class="keyword">on</span> Centos7             <span class="number">105</span>                              [OK]</span><br></pre></td></tr></table></figure>
<p>åˆ—è¡¨è¯´æ˜</p>
<table>
<thead>
<tr>
<th><strong>å‚æ•°</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>NAME</strong></td>
<td>é•œåƒåç§°</td>
</tr>
<tr>
<td><strong>DESCRIPTION</strong></td>
<td>é•œåƒè¯´æ˜</td>
</tr>
<tr>
<td><strong>STARS</strong></td>
<td>ç‚¹èµæ•°é‡</td>
</tr>
<tr>
<td><strong>OFFICIAL</strong></td>
<td>æ˜¯å¦æ˜¯å®˜æ–¹çš„</td>
</tr>
<tr>
<td><strong>AUTOMATED</strong></td>
<td>æ˜¯å¦æ˜¯è‡ªåŠ¨æ„å»ºçš„</td>
</tr>
</tbody>
</table>
<h3 id="1-4-2-è·å–é•œåƒ">1.4.2 è·å–é•œåƒ</h3>
<p>æ ¹æ®é•œåƒåç§°æ‹‰å–é•œåƒ</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker pull centos</span><br><span class="line">Using<span class="built_in"> default </span>tag: latest</span><br><span class="line">latest: Pulling <span class="keyword">from</span> library/centos</span><br><span class="line">af4b0a2388c6: Downloading  34.65MB/73.67MB</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å½“å‰ä¸»æœºé•œåƒåˆ—è¡¨</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image list</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">centos              latest              ff426288ea90        <span class="number">3</span> weeks ago         <span class="number">207</span>MB</span><br><span class="line">nginx               latest              <span class="number">3f</span>8a4339aadd        <span class="number">5</span> weeks ago         <span class="number">108</span>MB</span><br></pre></td></tr></table></figure>
<p>æ‹‰ç¬¬ä¸‰æ–¹é•œåƒæ–¹æ³•</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull index<span class="selector-class">.tenxcloud</span><span class="selector-class">.com</span>/tenxcloud/httpd</span><br></pre></td></tr></table></figure>
<h3 id="1-4-3-å¯¼å‡ºé•œåƒ">1.4.3 å¯¼å‡ºé•œåƒ</h3>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image list</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">centos              latest              ff426288ea90        <span class="number">3</span> weeks ago         <span class="number">207</span>MB</span><br><span class="line">nginx               latest              <span class="number">3f</span>8a4339aadd        <span class="number">5</span> weeks ago         <span class="number">108</span>MB</span><br><span class="line"># å¯¼å‡º</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image save centos &gt; docker-centos.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="1-4-4-åˆ é™¤é•œåƒ">1.4.4 åˆ é™¤é•œåƒ</h3>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image rm centos:latest</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image list</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">nginx               latest              <span class="number">3f</span>8a4339aadd        <span class="number">5</span> weeks ago         <span class="number">108</span>MB</span><br></pre></td></tr></table></figure>
<h3 id="1-4-5-å¯¼å…¥é•œåƒ">1.4.5 å¯¼å…¥é•œåƒ</h3>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image load -i docker-centos.tar.gz</span><br><span class="line">e15afa4858b6: Loading layer  <span class="number">215.8</span>MB/<span class="number">215.8</span>MB</span><br><span class="line">Loaded image: centos:latest</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker image list</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">centos              latest              ff426288ea90        <span class="number">3</span> weeks ago         <span class="number">207</span>MB</span><br><span class="line">nginx               latest              <span class="number">3f</span>8a4339aadd        <span class="number">5</span> weeks ago         <span class="number">108</span>MB</span><br></pre></td></tr></table></figure>
<h3 id="1-4-6-æŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯">1.4.6 æŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯</h3>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker image inspect centos</span></span><br></pre></td></tr></table></figure>
<h2 id="1-5-å®¹å™¨çš„æ—¥å¸¸ç®¡ç†">1.5 å®¹å™¨çš„æ—¥å¸¸ç®¡ç†</h2>
<h3 id="1-5-1-å®¹å™¨çš„èµ·-åœ">1.5.1 å®¹å™¨çš„èµ·/åœ</h3>
<p>æœ€ç®€å•çš„è¿è¡Œä¸€ä¸ªå®¹å™¨</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker run nginx</span></span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå®¹å™¨ï¼Œä¸¤æ­¥èµ°ï¼ˆä¸å¸¸ç”¨ï¼‰</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker create centos:latest  /bin/bash</span></span><br><span class="line">bb7f32368ecf0492adb59e20032ab2e6cf6a563a0e6751e58930ee5f7aaef204</span><br><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker start stupefied_nobel</span></span><br><span class="line">stupefied_nobel</span><br></pre></td></tr></table></figure>
<p>å¿«é€Ÿå¯åŠ¨å®¹å™¨æ–¹æ³•</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run  centos:latest  /usr/bin/sleep <span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<p><strong>å®¹å™¨å†…çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹å¿…é¡»ä¸€ç›´å¤„äºè¿è¡Œçš„çŠ¶æ€ï¼Œå¦åˆ™è¿™ä¸ªå®¹å™¨ï¼Œå°±ä¼šå¤„äºé€€å‡ºçŠ¶æ€ï¼</strong></p>
<p>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker container ls</span><br><span class="line">    æˆ–</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES</span><br><span class="line"><span class="number">8708e93f</span>d767        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   <span class="number">6</span> seconds ago       Up <span class="number">4</span> seconds        <span class="number">80</span>/tcp              keen_lewin</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä½ å®¹å™¨è¯¦ç»†ä¿¡æ¯/ip</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker container  inspect  å®¹å™¨åç§°/id</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä½ æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬æœªè¿è¡Œçš„ï¼‰</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</span><br><span class="line"><span class="number">8708e93</span>fd767        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   <span class="number">4</span> minutes ago       Exited (<span class="number">0</span>) <span class="number">59</span> seconds ago                       keen_lewin</span><br><span class="line">f9f3e6af7508        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   <span class="number">5</span> minutes ago       Exited (<span class="number">0</span>) <span class="number">5</span> minutes ago                        optimistic_haibt</span><br><span class="line"><span class="number">8</span>d8f81da12b5        nginx               <span class="string">"nginx -g 'daemon ofâ€¦"</span>   <span class="number">3</span> hours ago         Exited (<span class="number">0</span>) <span class="number">3</span> hours ago                          lucid_bohr</span><br></pre></td></tr></table></figure>
<p>åœæ­¢å®¹å™¨</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker stop å®¹å™¨åç§°/id</span></span><br><span class="line">æˆ–</span><br><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker container  kill  å®¹å™¨åç§°/id</span></span><br></pre></td></tr></table></figure>
<h3 id="1-5-2-è¿›å…¥å®¹å™¨æ–¹æ³•">1.5.2 è¿›å…¥å®¹å™¨æ–¹æ³•</h3>
<p><strong>å¯åŠ¨æ—¶è¿›å»æ–¹æ³•</strong></p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@docker01</span> ~]<span class="comment"># docker run -it #å‚æ•°ï¼š-it å¯äº¤äº’ç»ˆç«¯</span></span><br><span class="line">[root<span class="variable">@docker01</span> ~]<span class="comment"># docker run -it nginx:latest  /bin/bash</span></span><br><span class="line">root<span class="variable">@79241093859e</span><span class="symbol">:/</span><span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>é€€å‡º/ç¦»å¼€å®¹å™¨</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl+<span class="selector-tag">p</span> &amp; ctrl+q</span><br></pre></td></tr></table></figure>
<p><strong>å¯åŠ¨åè¿›å…¥å®¹å™¨çš„æ–¹æ³•</strong></p>
<p>å¯åŠ¨ä¸€ä¸ªdocker</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run -it centos:latest</span><br><span class="line">[<span class="symbol">root@</span><span class="number">1</span>bf0f43c4d2f /]# ps -ef</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root          <span class="number">1</span>      <span class="number">0</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">47</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /bin/bash</span><br><span class="line">root         <span class="number">13</span>      <span class="number">1</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">47</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ps -ef</span><br></pre></td></tr></table></figure>
<p>attachè¿›å…¥å®¹å™¨ï¼Œä½¿ç”¨pts/0 ï¼Œä¼šè®©æ‰€ç”¨é€šè¿‡æ­¤æ–¹æ³•è¿›å¦‚æ”¾å…¥ç”¨æˆ·çœ‹åˆ°åŒæ ·çš„æ“ä½œã€‚</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker attach <span class="number">1</span>bf0f43c4d2f</span><br><span class="line">[<span class="symbol">root@</span><span class="number">1</span>bf0f43c4d2f /]# ps -ef</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root          <span class="number">1</span>      <span class="number">0</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">47</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /bin/bash</span><br><span class="line">root         <span class="number">14</span>      <span class="number">1</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">49</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ps -ef</span><br></pre></td></tr></table></figure>
<p>è‡ªå‘½åå¯åŠ¨ä¸€ä¸ªå®¹å™¨ --name</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker attach <span class="number">1</span>bf0f43c4d2f</span><br><span class="line">[<span class="symbol">root@</span><span class="number">1</span>bf0f43c4d2f /]# ps -ef</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root          <span class="number">1</span>      <span class="number">0</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">47</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /bin/bash</span><br><span class="line">root         <span class="number">14</span>      <span class="number">1</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">49</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ps -ef</span><br></pre></td></tr></table></figure>
<p><strong>exrc</strong> <strong>è¿›å…¥å®¹å™¨æ–¹æ³•ï¼ˆæ¨èä½¿ç”¨ï¼‰</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker exec -it clsn1  /bin/bash</span><br><span class="line">[<span class="symbol">root@</span>b20fa75b4b40 /]# é‡æ–°åˆ†é…ä¸€ä¸ªç»ˆç«¯</span><br><span class="line">[<span class="symbol">root@</span>b20fa75b4b40 /]# ps -ef</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root          <span class="number">1</span>      <span class="number">0</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">11</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /bin/bash</span><br><span class="line">root         <span class="number">13</span>      <span class="number">0</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">14</span> pts/<span class="number">1</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /bin/bash</span><br><span class="line">root         <span class="number">26</span>     <span class="number">13</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">14</span> pts/<span class="number">1</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> ps -ef</span><br></pre></td></tr></table></figure>
<h3 id="1-5-3-åˆ é™¤æ‰€æœ‰å®¹å™¨">1.5.3 åˆ é™¤æ‰€æœ‰å®¹å™¨</h3>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="comment"># docker rm -f  `docker ps -a -q`</span></span><br><span class="line"><span class="comment"># -f å¼ºåˆ¶åˆ é™¤</span></span><br></pre></td></tr></table></figure>
<h3 id="1-5-4-å¯åŠ¨æ—¶è¿›è¡Œç«¯å£æ˜ å°„">1.5.4 å¯åŠ¨æ—¶è¿›è¡Œç«¯å£æ˜ å°„</h3>
<p>-på‚æ•°ç«¯å£æ˜ å°„</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run -d -p <span class="number">8888</span>:<span class="number">80</span>  nginx:latest</span><br><span class="line"><span class="number">287</span>bec5c60263166c03e1fc5b0b8262fe76507be3dfae4ce5cd2ee2d1e8a89a9</span><br></pre></td></tr></table></figure>
<p>ä¸åŒæŒ‡å®šæ˜ å°„æ–¹æ³•</p>
<table>
<thead>
<tr>
<th><strong>å‚æ•°</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-p hostPort:containerPort</strong></td>
<td>ç«¯å£æ˜ å°„ -p 8080:80</td>
</tr>
<tr>
<td><strong>-p ip:hostPort:containerPort</strong></td>
<td>é…ç½®ç›‘å¬åœ°å€ -p 10.0.0.100:8080:80</td>
</tr>
<tr>
<td><strong>-p ip::containerPort</strong></td>
<td>éšæœºåˆ†é…ç«¯å£ -p 10.0.0.100::80</td>
</tr>
<tr>
<td><strong>-p hostPort:containerPort:udp</strong></td>
<td>æŒ‡å®šåè®® -p 8080:80:tcp</td>
</tr>
<tr>
<td><strong>-p 81:80 â€“p 443:443</strong></td>
<td>æŒ‡å®šå¤šä¸ª</td>
</tr>
</tbody>
</table>
<p>éšæœºæ˜ å°„</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="bash"> -P ï¼ˆå¤§Pï¼‰<span class="comment"># éœ€è¦é•œåƒæ”¯æŒ</span></span></span><br></pre></td></tr></table></figure>
<h2 id="1-6-Docker-æ•°æ®å·çš„ç®¡ç†">1.6 Docker æ•°æ®å·çš„ç®¡ç†</h2>
<h3 id="1-6-1-æŒ‚è½½æ—¶åˆ›å»ºå·">1.6.1 æŒ‚è½½æ—¶åˆ›å»ºå·</h3>
<p>æŒ‚è½½å·</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@docker01</span> ~]# docker run -d -p <span class="number">80</span>:<span class="number">80</span> -v /data:/usr/share/nginx/html nginx:latest</span><br><span class="line"><span class="number">079786</span><span class="keyword">c</span><span class="number">1e297</span>b<span class="number">5</span><span class="keyword">c</span><span class="number">5031e7</span>a<span class="number">841160</span><span class="keyword">c</span><span class="number">74e91</span>d<span class="number">4</span>ad<span class="number">06516505043</span><span class="keyword">c</span><span class="number">60</span>dbb<span class="number">78</span>a<span class="number">259</span>d<span class="number">09</span></span><br></pre></td></tr></table></figure>
<p>å®¹å™¨å†…ç«™ç‚¹ç›®å½•: /usr/share/nginx/html</p>
<p>åœ¨å®¿ä¸»æœºå†™å…¥æ•°æ®ï¼ŒæŸ¥çœ‹</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# echo <span class="string">"http://www.nmtui.com"</span> &gt;/data/index.html</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# curl <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span></span><br><span class="line">http:<span class="comment">//www.nmtui.com</span></span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å…±äº«å·ï¼Œä½¿ç”¨åŒä¸€ä¸ªå·å¯åŠ¨ä¸€ä¸ªæ–°çš„å®¹å™¨</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run -d -p <span class="number">8080</span>:<span class="number">80</span> -v /data:/usr/share/nginx/html nginx:latest</span><br><span class="line"><span class="number">351f</span>0bd78d273604bd0971b186979aa0f3cbf45247274493d2490527babb4e42</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# curl <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>:<span class="number">8080</span></span><br><span class="line">http:<span class="comment">//www.nmtui.com</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å·åˆ—è¡¨</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="comment"># docker volume ls</span></span><br><span class="line">DRIVER              <span class="keyword">VOLUME</span><span class="bash"> NAME</span></span><br></pre></td></tr></table></figure>
<h3 id="1-6-2-åˆ›å»ºå·åæŒ‚è½½">1.6.2 åˆ›å»ºå·åæŒ‚è½½</h3>
<p>åˆ›å»ºä¸€ä¸ªå·</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker volume create</span></span><br><span class="line">f3b95f7bd17da220e63d4e70850b8d7fb3e20f8ad02043423a39fdd072b83521</span><br><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker volume ls</span></span><br><span class="line">DRIVER              VOLUME NAME</span><br><span class="line"><span class="keyword">local</span>               f3b95f7bd17da220e63d4e70850b8d7fb3e20f8ad02043423a39fdd072b83521</span><br></pre></td></tr></table></figure>
<p>æŒ‡å®šå·å</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="meta"># docker volume ls</span></span><br><span class="line"><span class="built_in">DRIVER</span>              VOLUME <span class="built_in">NAME</span></span><br><span class="line"><span class="built_in">local</span>               clsn</span><br><span class="line"><span class="built_in">local</span>               f3b95f7bd17da220e63d4e70850b8d7fb3e20f8ad02043423a39fdd072b83521</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å·è·¯å¾„</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker volume inspect clsn</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "CreatedAt": "2018-02-01T00:39:25+08:00",</span><br><span class="line">        "Driver": "local",</span><br><span class="line">        "Labels": &#123;&#125;,</span><br><span class="line">        "Mountpoint": "/var/lib/docker/volumes/clsn/_data",</span><br><span class="line">        "Name": "clsn",</span><br><span class="line">        "Options": &#123;&#125;,</span><br><span class="line">        "Scope": "local"</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å·åˆ›å»º</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker run -d -p 9000:80 -v clsn:/usr/share/nginx/html nginx:latest</span><br><span class="line">1434559cff996162da7ce71820ed8f5937fb7c02113bbc84e965845c219d3503</span><br><span class="line"><span class="meta">#</span><span class="bash"> å®¿ä¸»æœºæµ‹è¯•</span></span><br><span class="line">[root@docker01 ~]# echo 'blog.nmtui.com' &gt;/var/lib/docker/volumes/clsn/_data/index.html</span><br><span class="line">[root@docker01 ~]# curl 10.0.0.100:9000</span><br><span class="line">blog.nmtui.com</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å·</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@docker01</span> ~]# docker run  -d  -P  --volumes-from <span class="number">079786</span><span class="keyword">c</span><span class="number">1e297</span> nginx:latest</span><br><span class="line">b<span class="number">54</span>b<span class="number">9</span><span class="keyword">c</span><span class="number">9930</span>b<span class="number">417</span>ab<span class="number">3257</span><span class="keyword">c</span><span class="number">6e4</span>a<span class="number">8280</span>b<span class="number">54</span>fae<span class="number">57043</span><span class="keyword">c</span><span class="number">0</span>b<span class="number">76</span>b<span class="number">9</span>dc<span class="number">60</span>b<span class="number">4788e92369</span>fb</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä½¿ç”¨çš„ç«¯å£</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# netstat -lntup</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1400/sshd</span><br><span class="line">tcp        0      0 10.0.0.100:2375         0.0.0.0:*               LISTEN      26218/dockerd</span><br><span class="line">tcp6       0      0 :::9000                 :::*                    LISTEN      32015/docker-proxy</span><br><span class="line">tcp6       0      0 :::8080                 :::*                    LISTEN      31853/docker-proxy</span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      31752/docker-proxy</span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      1400/sshd</span><br><span class="line">tcp6       0      0 :::32769                :::*                    LISTEN      32300/docker-proxy</span><br><span class="line">[root@docker01 ~]# curl 10.0.0.100:32769</span><br><span class="line">http://www.nmtui.com</span><br></pre></td></tr></table></figure>
<h3 id="1-6-3-æ‰‹åŠ¨å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ">1.6.3 æ‰‹åŠ¨å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ</h3>
<p>æœ¬æ¬¡æ˜¯åŸºäºdockerå®˜æ–¹centos 6.8 é•œåƒåˆ›å»º</p>
<p>å®˜æ–¹é•œåƒåˆ—è¡¨ï¼š<a href="https://hub.docker.com/explore/" target="_blank" rel="noopener">https://hub.docker.com/explore/</a></p>
<p>å¯åŠ¨ä¸€ä¸ªcentos6.8çš„é•œåƒ</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker pull  centos:<span class="number">6.8</span></span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run -it -p <span class="number">1022</span>:<span class="number">22</span> centos:<span class="number">6.8</span>  /bin/bash</span><br><span class="line"># åœ¨å®¹å™¨ç§å®‰è£…sshdæœåŠ¡ï¼Œå¹¶ä¿®æ”¹ç³»ç»Ÿå¯†ç </span><br><span class="line">[<span class="symbol">root@</span><span class="number">582051</span>b2b92b ~]# yum install  openssh-server -y</span><br><span class="line">[<span class="symbol">root@</span><span class="number">582051</span>b2b92b ~]# echo <span class="string">"root:123456"</span> |chpasswd</span><br><span class="line">[<span class="symbol">root@</span><span class="number">582051</span>b2b92b ~]#  /etc/init.d/sshd start</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨å®Œæˆåé•œåƒsshè¿æ¥æµ‹è¯•</p>
<p>å°†å®¹å™¨æäº¤ä¸ºé•œåƒ</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker commit brave_mcclintock  centos6-ssh</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–°çš„é•œåƒå¯åŠ¨å®¹å™¨</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="title">@docker01</span> ~]# docker run -d  -p <span class="number">1122</span>:<span class="number">22</span>  centos<span class="number">6</span>-ssh:latest  /usr/sbin/sshd -D</span><br><span class="line"><span class="number">5</span>b<span class="number">8161</span>fda<span class="number">2</span>a<span class="number">9</span>f<span class="number">2</span><span class="keyword">c</span><span class="number">39</span><span class="keyword">c</span><span class="number">196</span><span class="keyword">c</span><span class="number">67e2</span>eb<span class="number">9274977e7723</span>fe<span class="number">51</span><span class="keyword">c</span><span class="number">4</span>f<span class="number">08</span>a<span class="number">0190217</span>ae<span class="number">93094</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å®¹å™¨å®‰è£…httpdæœåŠ¡</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span><span class="number">5</span>b8161fda2a9 /]#  yum install httpd -y</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™å¯åŠ¨è„šæœ¬è„šæœ¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@5b8161fda2a9 /]<span class="comment"># cat  init.sh</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">/etc/init.d/httpd start</span><br><span class="line">/usr/sbin/sshd -D</span><br><span class="line">[root@5b8161fda2a9 /]<span class="comment"># chmod +x init.sh</span></span><br><span class="line"><span class="comment"># æ³¨æ„æ‰§è¡Œæƒé™</span></span><br></pre></td></tr></table></figure>
<p>å†æ¬¡æäº¤ä¸ºæ–°çš„é•œåƒ</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker commit  <span class="number">5</span>b8161fda2a9 centos6-httpd</span><br><span class="line">sha256:<span class="number">705</span>d67a786cac040800b8485cf046fd57b1828b805c515377fc3e9cea3a481c1</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨é•œåƒï¼Œåšå¥½ç«¯å£æ˜ å°„ã€‚å¹¶åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•è®¿é—®</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run -d -p <span class="number">1222</span>:<span class="number">22</span> -p <span class="number">80</span>:<span class="number">80</span>  centos6-httpd /init.sh</span><br><span class="line"><span class="number">46f</span>a6a06644e31701dc019fb3a8c3b6ef008d4c2c10d46662a97664f838d8c2c</span><br></pre></td></tr></table></figure>
<h2 id="1-7-Dockerfileè‡ªåŠ¨æ„å»ºdockeré•œåƒ">1.7 Dockerfileè‡ªåŠ¨æ„å»ºdockeré•œåƒ</h2>
<p>å®˜æ–¹æ„å»ºdockerffileæ–‡ä»¶å‚è€ƒ</p>
<p><a href="https://github.com/CentOS/CentOS-Dockerfiles" target="_blank" rel="noopener">https://github.com/CentOS/CentOS-Dockerfiles</a></p>
<h3 id="1-7-1-DockerfileæŒ‡ä»¤é›†">1.7.1 DockerfileæŒ‡ä»¤é›†</h3>
<p>dockerfileä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š</p>
<blockquote>
<p>åŸºç¡€é•œåƒä¿¡æ¯ FROM centos:6.8</p>
<p>åˆ¶ä½œé•œåƒæ“ä½œæŒ‡ä»¤RUN yum insatll openssh-server -y</p>
<p>å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡ŒæŒ‡ä»¤ CMD [&quot;/bin/bash&quot;]</p>
</blockquote>
<p>dockerfileå¸¸ç”¨æŒ‡ä»¤ï¼š</p>
<blockquote>
<p>FROM è¿™ä¸ªé•œåƒçš„å¦ˆå¦ˆæ˜¯è°ï¼Ÿï¼ˆæŒ‡å®šåŸºç¡€é•œåƒï¼‰</p>
<p>MAINTAINER å‘Šè¯‰åˆ«äººï¼Œè°è´Ÿè´£å…»å®ƒï¼Ÿï¼ˆæŒ‡å®šç»´æŠ¤è€…ä¿¡æ¯ï¼Œå¯ä»¥æ²¡æœ‰ï¼‰</p>
<p>RUN ä½ æƒ³è®©å®ƒå¹²å•¥ï¼ˆåœ¨å‘½ä»¤å‰é¢åŠ ä¸ŠRUNå³å¯ï¼‰</p>
<p>ADD ç»™å®ƒç‚¹åˆ›ä¸šèµ„é‡‘ï¼ˆCOPYæ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨è§£å‹ï¼‰</p>
<p>WORKDIR æˆ‘æ˜¯cd,ä»Šå¤©åˆšåŒ–äº†å¦†ï¼ˆè®¾ç½®å½“å‰å·¥ä½œç›®å½•ï¼‰</p>
<p>VOLUME ç»™å®ƒä¸€ä¸ªå­˜æ”¾è¡Œæçš„åœ°æ–¹ï¼ˆè®¾ç½®å·ï¼ŒæŒ‚è½½ä¸»æœºç›®å½•ï¼‰</p>
<p>EXPOSE å®ƒè¦æ‰“å¼€çš„é—¨æ˜¯å•¥ï¼ˆæŒ‡å®šå¯¹å¤–çš„ç«¯å£ï¼‰</p>
<p>CMD å¥”è·‘å§ï¼Œå…„å¼Ÿï¼ï¼ˆæŒ‡å®šå®¹å™¨å¯åŠ¨åçš„è¦å¹²çš„äº‹æƒ…ï¼‰</p>
</blockquote>
<p>dockerfileå…¶ä»–æŒ‡ä»¤ï¼š</p>
<blockquote>
<p>COPY å¤åˆ¶æ–‡ä»¶</p>
<p>ENV ç¯å¢ƒå˜é‡</p>
<p>ENTRYPOINT å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤</p>
</blockquote>
<h3 id="1-7-2-åˆ›å»ºä¸€ä¸ªDockerfile">1.7.2 åˆ›å»ºä¸€ä¸ªDockerfile</h3>
<p>åˆ›å»ºç¬¬ä¸€ä¸ªDockerfileæ–‡ä»¶</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line">[root@docker01 base]<span class="comment"># cd /opt/base</span></span><br><span class="line"><span class="comment"># åˆ›å»ºDcokerfileæ–‡ä»¶ï¼Œæ³¨æ„å¤§å°å†™</span></span><br><span class="line">[root@docker01 base]<span class="comment"># vim Dockerfile</span></span><br><span class="line"><span class="keyword">FROM</span> centos:<span class="number">6.8</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install openssh-server -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"root:123456"</span> |chpasswd</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> /etc/init.d/sshd start</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"/usr/sbin/sshd"</span>,<span class="string">"-D"</span>]</span></span><br></pre></td></tr></table></figure>
<p>æ„å»ºdockeré•œåƒ</p>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 <span class="built_in">base</span>]# docker image build  -<span class="built_in">t</span> centos6.<span class="number">8</span>-ssh .</span><br><span class="line">-<span class="built_in">t</span> ä¸ºé•œåƒæ ‡ç­¾æ‰“æ ‡ç­¾  . è¡¨ç¤ºå½“å‰è·¯å¾„</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è‡ªæ„å»ºçš„é•œåƒå¯åŠ¨</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 base]# docker run  -d -p <span class="number">2022</span>:<span class="number">22</span> centos6<span class="number">.8</span>-ssh-b</span><br><span class="line">dc3027d3c15dac881e8e2aeff80724216f3ac725f142daa66484f7cb5d074e7a</span><br></pre></td></tr></table></figure>
<h3 id="1-7-3-ä½¿ç”¨Dcokerfileå®‰è£…kodexplorer">1.7.3 ä½¿ç”¨Dcokerfileå®‰è£…kodexplorer</h3>
<p>Dockerfileæ–‡ä»¶å†…å®¹</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> centos:<span class="number">6.8</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install wget unzip php php-gd php-mbstring -y &amp;&amp; yum clean all</span></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•ï¼Œä¹‹åçš„æ“ä½œéƒ½åœ¨è¿™ä¸ªç›®å½•ä¸­</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /var/www/html/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> wget -c http://static.kodcloud.com/update/download/kodexplorer4.25.zip</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> unzip kodexplorer4.25.zip &amp;&amp; rm -f kodexplorer4.25.zip</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> chown -R apache.apache .</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"/usr/sbin/apachectl"</span>,<span class="string">"-D"</span>,<span class="string">"FOREGROUND"</span>]</span></span><br></pre></td></tr></table></figure>
<p>æ›´å¤šçš„Dockerfileå¯ä»¥å‚è€ƒå®˜æ–¹æ–¹æ³•ã€‚</p>
<h2 id="1-8-Dockerä¸­çš„é•œåƒåˆ†å±‚">1.8 Dockerä¸­çš„é•œåƒåˆ†å±‚</h2>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="http://www.maiziedu.com/wiki/cloud/dockerimage/" target="_blank" rel="noopener">http://www.maiziedu.com/wiki/cloud/dockerimage/</a></p>
<p>Docker æ”¯æŒé€šè¿‡æ‰©å±•ç°æœ‰é•œåƒï¼Œåˆ›å»ºæ–°çš„é•œåƒã€‚å®é™…ä¸Šï¼ŒDocker Hub ä¸­ 99% çš„é•œåƒéƒ½æ˜¯é€šè¿‡åœ¨ base é•œåƒä¸­å®‰è£…å’Œé…ç½®éœ€è¦çš„è½¯ä»¶æ„å»ºå‡ºæ¥çš„ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq655ez6j20js06ojse.jpg" alt=""></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæ–°é•œåƒæ˜¯ä» base é•œåƒä¸€å±‚ä¸€å±‚å åŠ ç”Ÿæˆçš„ã€‚æ¯å®‰è£…ä¸€ä¸ªè½¯ä»¶ï¼Œå°±åœ¨ç°æœ‰é•œåƒçš„åŸºç¡€ä¸Šå¢åŠ ä¸€å±‚ã€‚</p>
<h3 id="1-8-1-Docker-é•œåƒä¸ºä»€ä¹ˆåˆ†å±‚">1.8.1 Docker é•œåƒä¸ºä»€ä¹ˆåˆ†å±‚</h3>
<p>é•œåƒåˆ†å±‚æœ€å¤§çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯å…±äº«èµ„æºã€‚</p>
<p>æ¯”å¦‚è¯´æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„ base é•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆ Docker Host åªéœ€åœ¨ç£ç›˜ä¸Šä¿å­˜ä¸€ä»½ base é•œåƒï¼›åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€åŠ è½½ä¸€ä»½ base é•œåƒï¼Œå°±å¯ä»¥ä¸ºæ‰€æœ‰å®¹å™¨æœåŠ¡äº†ã€‚è€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚</p>
<p>å¦‚æœå¤šä¸ªå®¹å™¨å…±äº«ä¸€ä»½åŸºç¡€é•œåƒï¼Œå½“æŸä¸ªå®¹å™¨ä¿®æ”¹äº†åŸºç¡€é•œåƒçš„å†…å®¹ï¼Œæ¯”å¦‚ /etc ä¸‹çš„æ–‡ä»¶ï¼Œè¿™æ—¶å…¶ä»–å®¹å™¨çš„ /etc æ˜¯ä¸ä¼šè¢«ä¿®æ”¹çš„ï¼Œä¿®æ”¹åªä¼šè¢«é™åˆ¶åœ¨å•ä¸ªå®¹å™¨å†…ã€‚è¿™å°±æ˜¯å®¹å™¨ <strong>Copy-on-Write</strong> ç‰¹æ€§ã€‚</p>
<h3 id="1-8-2-å¯å†™çš„å®¹å™¨å±‚">1.8.2 å¯å†™çš„å®¹å™¨å±‚</h3>
<p>å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ã€‚è¿™ä¸€å±‚é€šå¸¸è¢«ç§°ä½œâ€œå®¹å™¨å±‚â€ï¼Œâ€œå®¹å™¨å±‚â€ä¹‹ä¸‹çš„éƒ½å«â€œé•œåƒå±‚â€ã€‚</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq6bjl4rj20fb0dcq4g.jpg" alt=""></p>
<p>æ‰€æœ‰å¯¹å®¹å™¨çš„æ”¹åŠ¨ - æ— è®ºæ·»åŠ ã€åˆ é™¤ã€è¿˜æ˜¯ä¿®æ”¹æ–‡ä»¶éƒ½åªä¼šå‘ç”Ÿåœ¨å®¹å™¨å±‚ä¸­ã€‚åªæœ‰<strong>å®¹å™¨å±‚æ˜¯å¯å†™çš„ï¼Œå®¹å™¨å±‚ä¸‹é¢çš„æ‰€æœ‰é•œåƒå±‚éƒ½æ˜¯åªè¯»çš„</strong>ã€‚</p>
<h3 id="1-8-3-å®¹å™¨å±‚çš„ç»†èŠ‚è¯´æ˜">1.8.3 å®¹å™¨å±‚çš„ç»†èŠ‚è¯´æ˜</h3>
<p>é•œåƒå±‚æ•°é‡å¯èƒ½ä¼šå¾ˆå¤šï¼Œæ‰€æœ‰é•œåƒå±‚ä¼šè”åˆåœ¨ä¸€èµ·ç»„æˆä¸€ä¸ªç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœä¸åŒå±‚ä¸­æœ‰ä¸€ä¸ªç›¸åŒè·¯å¾„çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ /aï¼Œä¸Šå±‚çš„ /a ä¼šè¦†ç›–ä¸‹å±‚çš„ /aï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·åªèƒ½è®¿é—®åˆ°ä¸Šå±‚ä¸­çš„æ–‡ä»¶ /aã€‚åœ¨å®¹å™¨å±‚ä¸­ï¼Œç”¨æˆ·çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªå åŠ ä¹‹åçš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>æ–‡ä»¶æ“ä½œçš„</p>
<table>
<thead>
<tr>
<th><strong>æ–‡ä»¶æ“ä½œ</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ·»åŠ æ–‡ä»¶</strong></td>
<td>åœ¨å®¹å™¨ä¸­åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œæ–°æ–‡ä»¶è¢«æ·»åŠ åˆ°å®¹å™¨å±‚ä¸­ã€‚</td>
</tr>
<tr>
<td><strong>è¯»å–æ–‡ä»¶</strong></td>
<td>åœ¨å®¹å™¨ä¸­è¯»å–æŸä¸ªæ–‡ä»¶æ—¶ï¼ŒDocker ä¼šä»ä¸Šå¾€ä¸‹ä¾æ¬¡åœ¨å„é•œåƒå±‚ä¸­æŸ¥æ‰¾æ­¤æ–‡ä»¶ã€‚<br />ä¸€æ—¦æ‰¾åˆ°ï¼Œç«‹å³å°†å…¶å¤åˆ¶åˆ°å®¹å™¨å±‚ï¼Œç„¶åæ‰“å¼€å¹¶è¯»å…¥å†…å­˜ã€‚</td>
</tr>
<tr>
<td><strong>ä¿®æ”¹æ–‡ä»¶</strong></td>
<td>åœ¨å®¹å™¨ä¸­ä¿®æ”¹å·²å­˜åœ¨çš„æ–‡ä»¶æ—¶ï¼ŒDocker ä¼šä»ä¸Šå¾€ä¸‹ä¾æ¬¡åœ¨å„é•œåƒå±‚ä¸­æŸ¥æ‰¾æ­¤æ–‡ä»¶ã€‚<br />ä¸€æ—¦æ‰¾åˆ°ï¼Œç«‹å³å°†å…¶å¤åˆ¶åˆ°å®¹å™¨å±‚ï¼Œç„¶åä¿®æ”¹ä¹‹ã€‚</td>
</tr>
<tr>
<td><strong>åˆ é™¤æ–‡ä»¶</strong></td>
<td>åœ¨å®¹å™¨ä¸­åˆ é™¤æ–‡ä»¶æ—¶ï¼ŒDocker ä¹Ÿæ˜¯ä»ä¸Šå¾€ä¸‹ä¾æ¬¡åœ¨é•œåƒå±‚ä¸­æŸ¥æ‰¾æ­¤æ–‡ä»¶ã€‚<br />æ‰¾åˆ°åï¼Œä¼šåœ¨å®¹å™¨å±‚ä¸­<strong>è®°å½•ä¸‹æ­¤åˆ é™¤æ“ä½œ</strong>ã€‚ï¼ˆåªæ˜¯è®°å½•åˆ é™¤æ“ä½œï¼‰</td>
</tr>
</tbody>
</table>
<p>åªæœ‰å½“éœ€è¦ä¿®æ”¹æ—¶æ‰å¤åˆ¶ä¸€ä»½æ•°æ®ï¼Œè¿™ç§ç‰¹æ€§è¢«ç§°ä½œ Copy-on-Writeã€‚å¯è§ï¼Œå®¹å™¨å±‚ä¿å­˜çš„æ˜¯é•œåƒå˜åŒ–çš„éƒ¨åˆ†ï¼Œä¸ä¼šå¯¹é•œåƒæœ¬èº«è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚</p>
<p>è¿™æ ·å°±è§£é‡Šäº†æˆ‘ä»¬å‰é¢æå‡ºçš„é—®é¢˜ï¼šå®¹å™¨å±‚è®°å½•å¯¹é•œåƒçš„ä¿®æ”¹ï¼Œæ‰€æœ‰é•œåƒå±‚éƒ½æ˜¯åªè¯»çš„ï¼Œä¸ä¼šè¢«å®¹å™¨ä¿®æ”¹ï¼Œæ‰€ä»¥é•œåƒå¯ä»¥è¢«å¤šä¸ªå®¹å™¨å…±äº«ã€‚</p>
<h2 id="1-9-ä½¿ç”¨dockerè¿è¡Œzabbix-server">1.9 ä½¿ç”¨dockerè¿è¡Œzabbix-server</h2>
<h3 id="1-9-1-å®¹å™¨é—´çš„äº’è”">1.9.1 å®¹å™¨é—´çš„äº’è”</h3>
<p>åœ¨è¿è¡Œzabbixä¹‹å‰åŠ¡å¿…è¦äº†è§£å®¹å™¨é—´äº’è”çš„æ–¹æ³•</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªnginxå®¹å™¨</span></span><br><span class="line">docker <span class="builtin-name">run</span> -d -p 80:80 nginx</span><br><span class="line"><span class="comment"># åˆ›å»ºå®¹å™¨ï¼Œåšlinkï¼Œå¹¶è¿›å…¥å®¹å™¨ä¸­</span></span><br><span class="line">docker <span class="builtin-name">run</span> -it --link quirky_brown:web01 centos-ssh /bin/bash</span><br><span class="line"><span class="comment"># åœ¨å®¹å™¨ä¸­è®¿é—®nginxå®¹å™¨å¯ä»¥pingé€š</span></span><br><span class="line">ping web01</span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨apacheå®¹å™¨</span></span><br><span class="line">[root@docker01 ~]# docker run -d httpd:2.4</span><br><span class="line">3f1f7fc554720424327286bd2b04aeab1b084a3fb011a785b0deab6a34e56955</span><br><span class="line">^[[A[root@docker01 docker ps -a</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS               NAMES</span><br><span class="line">3f1f7fc55472        httpd:2.4           "httpd-foreground"   6 seconds ago       Up 5 seconds        80/tcp              determined_clarke</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‹‰å–ä¸€ä¸ªbusybox é•œåƒ</span></span><br><span class="line">[root@docker01 ~]# docker pull busybox</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨å®¹å™¨</span></span><br><span class="line">[root@docker01 ~]# docker run -it  --link determined_clarke:web busybox:latest   /bin/sh</span><br><span class="line">/ #</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨æ–°çš„å®¹å™¨è®¿é—®æœ€åˆçš„webå®¹å™¨</span></span><br><span class="line">/ # ping web</span><br><span class="line">PING web (172.17.0.2): 56 data bytes</span><br><span class="line">64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.058 ms</span><br><span class="line">^C</span><br><span class="line">--- web ping statistics ---</span><br><span class="line">1 packets transmitted, 1 packets received, 0% packet loss</span><br><span class="line">round-trip min/avg/max = 0.058/0.058/0.058 ms</span><br></pre></td></tr></table></figure>
<h3 id="1-9-2-å¯åŠ¨zabbixå®¹å™¨">1.9.2 å¯åŠ¨zabbixå®¹å™¨</h3>
<p>1ã€å¯åŠ¨ä¸€ä¸ªmysqlçš„å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql-server -t \</span><br><span class="line">      -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">      -e MYSQL_USER="zabbix" \</span><br><span class="line">      -e MYSQL_PASSWORD="zabbix_pwd" \</span><br><span class="line">      -e MYSQL_ROOT_PASSWORD="root_pwd" \</span><br><span class="line">      -d mysql:5.7 \</span><br><span class="line">      --character-set-server=utf8 --collation-server=utf8_bin</span><br></pre></td></tr></table></figure>
<p>2ã€å¯åŠ¨java-gatewayå®¹å™¨ç›‘æ§javaæœåŠ¡</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> <span class="comment">--name zabbix-java-gateway -t \</span></span><br><span class="line">      -d zabbix/zabbix-java-gateway:latest</span><br></pre></td></tr></table></figure>
<p>3ã€å¯åŠ¨zabbix-mysqlå®¹å™¨ä½¿ç”¨linkè¿æ¥mysqlä¸java-gatewayã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run --name zabbix-server-mysql -t \</span><br><span class="line">      -e DB_SERVER_HOST="mysql-server" \</span><br><span class="line">      -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">      -e MYSQL_USER="zabbix" \</span><br><span class="line">      -e MYSQL_PASSWORD="zabbix_pwd" \</span><br><span class="line">      -e MYSQL_ROOT_PASSWORD="root_pwd" \</span><br><span class="line">      -e ZBX_JAVAGATEWAY="zabbix-java-gateway" \</span><br><span class="line">      --link mysql-server:mysql \</span><br><span class="line">      --link zabbix-java-gateway:zabbix-java-gateway \</span><br><span class="line">      -p 10051:10051 \</span><br><span class="line">      -d zabbix/zabbix-server-mysql:latest</span><br></pre></td></tr></table></figure>
<p>4ã€å¯åŠ¨zabbix webæ˜¾ç¤ºï¼Œä½¿ç”¨linkè¿æ¥zabbix-mysqlä¸mysqlã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run --name zabbix-web-nginx-mysql -t \</span><br><span class="line">      -e DB_SERVER_HOST="mysql-server" \</span><br><span class="line">      -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">      -e MYSQL_USER="zabbix" \</span><br><span class="line">      -e MYSQL_PASSWORD="zabbix_pwd" \</span><br><span class="line">      -e MYSQL_ROOT_PASSWORD="root_pwd" \</span><br><span class="line">      --link mysql-server:mysql \</span><br><span class="line">      --link zabbix-server-mysql:zabbix-server \</span><br><span class="line">      -p 80:80 \</span><br><span class="line">      -d zabbix/zabbix-web-nginx-mysql:latest</span><br></pre></td></tr></table></figure>
<h3 id="1-9-3-å…³äºzabbix-API">1.9.3 å…³äºzabbix API</h3>
<p>å…³äºzabbix APIå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.zabbix.com/documentation/3.4/zh/manual/api" target="_blank" rel="noopener">https://www.zabbix.com/documentation/3.4/zh/manual/api</a></p>
<p>1ã€è·å–tokenæ–¹æ³•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è·å–token</span></span><br><span class="line">[root@docker02 ~]# curl -s -X POST -H 'Content-Type:application/json' -d '</span><br><span class="line">&#123;</span><br><span class="line">"jsonrpc": "2.0",</span><br><span class="line">"method": "user.login",</span><br><span class="line">"params": &#123;</span><br><span class="line">"user": "Admin",</span><br><span class="line">"password": "zabbix"</span><br><span class="line">&#125;,</span><br><span class="line">"id": 1</span><br><span class="line">&#125;' http://10.0.0.100/api_jsonrpc.php</span><br><span class="line">&#123;"jsonrpc":"2.0","result":"d3be707f9e866ec5d0d1c242292cbebd","id":1&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-10-docker-ä»“åº“ï¼ˆregistryï¼‰">1.10 docker ä»“åº“ï¼ˆregistryï¼‰</h2>
<h3 id="1-10-1-åˆ›å»ºä¸€ä¸ªæ™®é€šä»“åº“">1.10.1 åˆ›å»ºä¸€ä¸ªæ™®é€šä»“åº“</h3>
<p>1ã€åˆ›å»ºä»“åº“</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="number">5000</span>:<span class="number">5000</span> --restart=always --name registry -v /opt/<span class="symbol">myregistry:</span>/var/<span class="class"><span class="keyword">lib</span>/<span class="title">registry</span>  <span class="title">registry</span></span></span><br></pre></td></tr></table></figure>
<p>2ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½¿ä¹‹æ”¯æŒhttp</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# cat  /etc/docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://registry.docker-cn.com"</span>],</span><br><span class="line">  <span class="string">"insecure-registries"</span>: [<span class="string">"10.0.0.100:5000"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å¯dockerè®©ä¿®æ”¹ç”Ÿæ•ˆ</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># systemctl restart  docker.service</span></span><br></pre></td></tr></table></figure>
<p>3ã€ä¿®æ”¹é•œåƒæ ‡ç­¾</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker tag  busybox:latest  10.0.0.100:5000/clsn/busybox:1.0</span><br><span class="line">[root@docker01 ~]# docker images</span><br><span class="line">REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">centos6-ssh                     latest              3c2b1e57a0f5        18 hours ago        393MB</span><br><span class="line">httpd                           2.4                 2e202f453940        6 days ago          179MB</span><br><span class="line">10.0.0.100:5000/clsn/busybox    1.0                 5b0d59026729        8 days ago          1.15MB</span><br></pre></td></tr></table></figure>
<p>4ã€å°†æ–°æ‰“æ ‡ç­¾çš„é•œåƒä¸Šä¼ é•œåƒåˆ°ä»“åº“</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker push   <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>:<span class="number">5000</span>/clsn/busybox</span><br></pre></td></tr></table></figure>
<h3 id="1-10-2-å¸¦basicè®¤è¯çš„ä»“åº“">1.10.2 å¸¦basicè®¤è¯çš„ä»“åº“</h3>
<p>1ã€å®‰è£…åŠ å¯†å·¥å…·</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> clsn]<span class="meta"># yum install httpd-tools  -y</span></span><br></pre></td></tr></table></figure>
<p>2ã€è®¾ç½®è®¤è¯å¯†ç </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="regexp">/opt/</span>registry-var<span class="regexp">/auth/</span> -p</span><br><span class="line">htpasswd  -Bbn clsn <span class="number">123456</span>  &gt; <span class="regexp">/opt/</span>registry-var<span class="regexp">/auth/</span>htpasswd</span><br></pre></td></tr></table></figure>
<p>3ã€å¯åŠ¨å®¹å™¨ï¼Œåœ¨å¯åŠ¨æ—¶ä¼ å…¥è®¤è¯å‚æ•°</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="number">5000</span>:<span class="number">5000</span> -v <span class="regexp">/opt/</span>registry-var<span class="regexp">/auth/</span>:<span class="regexp">/auth/</span> -e <span class="string">"REGISTRY_AUTH=htpasswd"</span> -e <span class="string">"REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm"</span> -e REGISTRY_AUTH_HTPASSWD_PATH=<span class="regexp">/auth/</span>htpasswd registry</span><br></pre></td></tr></table></figure>
<p>4ã€ä½¿ç”¨éªŒè¯ç”¨æˆ·æµ‹è¯•</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># ç™»é™†ç”¨æˆ·</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker login <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>:<span class="number">5000</span></span><br><span class="line">Username: clsn</span><br><span class="line">Password: <span class="number">123456</span></span><br><span class="line">Login Succeeded</span><br><span class="line"># æ¨é€é•œåƒåˆ°ä»“åº“</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker push <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>:<span class="number">5000</span>/clsn/busybox</span><br><span class="line">The push <span class="built_in">ref</span>ers to repository [<span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>:<span class="number">5000</span>/clsn/busybox]</span><br><span class="line"><span class="number">4f</span>ebd3792a1f: Pushed</span><br><span class="line"><span class="number">1.0</span>: digest: sha256:<span class="number">4</span>cee1979ba0bf7db9fc5d28fb7b798ca69ae95a47c5fecf46327720df4ff352d size: <span class="number">527</span></span><br><span class="line">#è®¤è¯æ–‡ä»¶çš„ä¿å­˜ä½ç½®</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# cat .docker/config.json</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"auths"</span>: &#123;</span><br><span class="line">        <span class="string">"10.0.0.100:5000"</span>: &#123;</span><br><span class="line">            <span class="string">"auth"</span>: <span class="string">"Y2xzbjoxMjM0NTY="</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"https://index.docker.io/v1/"</span>: &#123;</span><br><span class="line">            <span class="string">"auth"</span>: <span class="string">"Y2xzbjpIenNAMTk5Ng=="</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"HttpHeaders"</span>: &#123;</span><br><span class="line">        <span class="string">"User-Agent"</span>: <span class="string">"Docker-Client/17.12.0-ce (linux)"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„dockeré•œåƒä»“åº“æ­å»ºå®Œæˆ</p>
<h2 id="1-11-docker-composeç¼–æ’å·¥å…·">1.11 docker-composeç¼–æ’å·¥å…·</h2>
<h3 id="1-11-1-å®‰è£…docker-compose">1.11.1 å®‰è£…docker-compose</h3>
<p>å®‰è£…docker-compose</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½pipè½¯ä»¶</span></span><br><span class="line">yum <span class="keyword">install</span> -y python2-pip</span><br><span class="line"><span class="comment"># ä¸‹è½½ docker-compose</span></span><br><span class="line">pip <span class="keyword">install</span> docker-compose</span><br></pre></td></tr></table></figure>
<p>å›½å†…å¼€å¯pip ä¸‹è½½åŠ é€Ÿï¼š<a href="http://mirrors.aliyun.com/help/pypi" target="_blank" rel="noopener">http://mirrors.aliyun.com/help/pypi</a></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/.pip/</span><br><span class="line">cat &gt; ~/.pip/pip.conf &lt;&lt;<span class="string">'EOF'</span></span><br><span class="line">[<span class="keyword">global</span>]</span><br><span class="line"><span class="keyword">index</span>-url = https://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">[install]</span><br><span class="line"><span class="keyword">trusted</span>-host=mirrors.aliyun.com</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<h3 id="1-11-2-ç¼–æ’å¯åŠ¨é•œåƒ">1.11.2 ç¼–æ’å¯åŠ¨é•œåƒ</h3>
<p>1ã€åˆ›å»ºæ–‡ä»¶ç›®å½•</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># mkdir /opt/my_wordpress/</span></span><br><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># cd /opt/my_wordpress/</span></span><br></pre></td></tr></table></figure>
<p>2ã€ç¼–å†™ç¼–æ’æ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 my_wordpress]# vim docker-compose.yml</span><br><span class="line">version: '3'</span><br><span class="line">services:</span><br><span class="line">   db:</span><br><span class="line">     image: mysql:5.7</span><br><span class="line">     volumes:</span><br><span class="line">       - /data/db_data:/var/lib/mysql</span><br><span class="line">     restart: always</span><br><span class="line">     environment:</span><br><span class="line">       MYSQL_ROOT_PASSWORD: somewordpress</span><br><span class="line">       MYSQL_DATABASE: wordpress</span><br><span class="line">       MYSQL_USER: wordpress</span><br><span class="line">       MYSQL_PASSWORD: wordpress</span><br><span class="line">   wordpress:</span><br><span class="line">     depends_on:</span><br><span class="line">       - db</span><br><span class="line">     image: wordpress:latest</span><br><span class="line">     volumes:</span><br><span class="line">       - /data/web_data:/var/www/html</span><br><span class="line">     ports:</span><br><span class="line">       - "8000:80"</span><br><span class="line">     restart: always</span><br><span class="line">     environment:</span><br><span class="line">       WORDPRESS_DB_HOST: db:3306</span><br><span class="line">       WORDPRESS_DB_USER: wordpress</span><br><span class="line">       WORDPRESS_DB_PASSWORD: wordpress</span><br></pre></td></tr></table></figure>
<p>3ã€å¯åŠ¨</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> my_wordpress]<span class="meta"># docker-compose up</span></span><br><span class="line">ã€€ã€€<span class="meta">#å¯åŠ¨æ–¹æ³•ï¼šdocker-compose up</span></span><br><span class="line">ã€€ã€€<span class="meta">#åå°å¯åŠ¨æ–¹æ³•ï¼šdocker-compose up -d</span></span><br></pre></td></tr></table></figure>
<p>4ã€æµè§ˆå™¨ä¸Šè®¿é—®<a href="http://10.0.0.100:8000/" target="_blank" rel="noopener">http://10.0.0.100:8000</a></p>
<p><strong>è¿›è¡Œwordpressçš„å®‰è£…å³å¯</strong></p>
<h3 id="1-11-3-haproxyä»£ç†åç«¯dockerå®¹å™¨">1.11.3 haproxyä»£ç†åç«¯dockerå®¹å™¨</h3>
<p>1ã€ä¿®æ”¹ç¼–æ’è„šæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 my_wordpress]# cat docker-compose.yml</span><br><span class="line">version: '3'</span><br><span class="line">services:</span><br><span class="line">   db:</span><br><span class="line">     image: mysql:5.7</span><br><span class="line">     volumes:</span><br><span class="line">       - /data/db_data:/var/lib/mysql</span><br><span class="line">     restart: always</span><br><span class="line">     environment:</span><br><span class="line">       MYSQL_ROOT_PASSWORD: somewordpress</span><br><span class="line">       MYSQL_DATABASE: wordpress</span><br><span class="line">       MYSQL_USER: wordpress</span><br><span class="line">       MYSQL_PASSWORD: wordpress</span><br><span class="line">   wordpress:</span><br><span class="line">     depends_on:</span><br><span class="line">       - db</span><br><span class="line">     image: wordpress:latest</span><br><span class="line">     volumes:</span><br><span class="line">       - /data/web_data:/var/www/html</span><br><span class="line">     ports:</span><br><span class="line">       - "80"</span><br><span class="line">     restart: always</span><br><span class="line">     environment:</span><br><span class="line">       WORDPRESS_DB_HOST: db:3306</span><br><span class="line">       WORDPRESS_DB_USER: wordpress</span><br><span class="line">       WORDPRESS_DB_PASSWORD: wordpress</span><br></pre></td></tr></table></figure>
<p>2ã€åŒæ—¶å¯åŠ¨<strong>ä¸¤å°</strong>wordpress</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 my_wordpress]<span class="comment"># docker-compose scale wordpress=2</span></span><br><span class="line">WARNING: The scale <span class="keyword">command</span> is deprecated. Use the up <span class="keyword">command</span> with the <span class="params">--scale</span> flag instead.</span><br><span class="line">Starting mywordpress_wordpress_1 <span class="string">...</span> done</span><br><span class="line">Creating mywordpress_wordpress_2 <span class="string">...</span> done</span><br></pre></td></tr></table></figure>
<p>3ã€å®‰è£…haproxy</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># yum install haproxy -y</span></span><br></pre></td></tr></table></figure>
<p>4ã€ä¿®æ”¹haproxyé…ç½®æ–‡ä»¶</p>
<p>å…³äºé…ç½®æ–‡ä»¶çš„è¯¦ç»†è¯´æ˜ï¼Œå‚è€ƒï¼š<a href="https://www.cnblogs.com/MacoLee/p/5853413.html" target="_blank" rel="noopener">https://www.cnblogs.com/MacoLee/p/5853413.html</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]#cp /etc/haproxy/haproxy.cfg&#123;,.bak&#125;</span><br><span class="line">[root@docker01 ~]# vim /etc/haproxy/haproxy.cfg</span><br><span class="line">global</span><br><span class="line">    log         127.0.0.1 local2</span><br><span class="line">    chroot      /var/lib/haproxy</span><br><span class="line">    pidfile     /var/run/haproxy.pid</span><br><span class="line">    maxconn     4000</span><br><span class="line">    user        haproxy</span><br><span class="line">    group       haproxy</span><br><span class="line">    daemon</span><br><span class="line">    stats socket /var/lib/haproxy/stats level admin  #æ”¯æŒå‘½ä»¤è¡Œæ§åˆ¶</span><br><span class="line">defaults</span><br><span class="line">    mode                    http</span><br><span class="line">    log                     global</span><br><span class="line">    option                  httplog</span><br><span class="line">    option                  dontlognull</span><br><span class="line">    option http-server-close</span><br><span class="line">    option forwardfor       except 127.0.0.0/8</span><br><span class="line">    option                  redispatch</span><br><span class="line">    retries                 3</span><br><span class="line">    timeout http-request    10s</span><br><span class="line">    timeout queue           1m</span><br><span class="line">    timeout connect         10s</span><br><span class="line">    timeout client          1m</span><br><span class="line">    timeout server          1m</span><br><span class="line">    timeout http-keep-alive 10s</span><br><span class="line">    timeout check           10s</span><br><span class="line">    maxconn                 3000</span><br><span class="line">listen stats</span><br><span class="line">    mode http</span><br><span class="line">    bind 0.0.0.0:8888</span><br><span class="line">    stats enable</span><br><span class="line">    stats uri     /haproxy-status</span><br><span class="line">    stats auth    admin:123456</span><br><span class="line">frontend frontend_www_example_com</span><br><span class="line">    bind 10.0.0.100:8000</span><br><span class="line">    mode http</span><br><span class="line">    option httplog</span><br><span class="line">    log global</span><br><span class="line">    default_backend backend_www_example_com</span><br><span class="line">backend backend_www_example_com</span><br><span class="line">    option forwardfor header X-REAL-IP</span><br><span class="line">    option httpchk HEAD / HTTP/1.0</span><br><span class="line">    balance roundrobin</span><br><span class="line">    server web-node1  10.0.0.100:32768 check inter 2000 rise 30 fall 15</span><br><span class="line">    server web-node2  10.0.0.100:32769 check inter 2000 rise 30 fall 15</span><br></pre></td></tr></table></figure>
<p>5ã€å¯åŠ¨haproxy</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="keyword">start</span> haproxy</span><br><span class="line">systemctl <span class="keyword">enable</span> haproxy</span><br></pre></td></tr></table></figure>
<p>6ã€ä½¿ç”¨æµè§ˆå™¨è®¿é—®hapeoxyç›‘å¬çš„8000ç«¯å£å¯ä»¥çœ‹åˆ°è´Ÿè½½çš„æƒ…å†µ</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq7mymswj20hg05tdg3.jpg" alt="img"></p>
<p>7ã€ä½¿ç”¨æµè§ˆå™¨è®¿é—® <a href="http://10.0.0.100:8888/haproxy-status" target="_blank" rel="noopener">http://10.0.0.100:8888/haproxy-status</a></p>
<p>å¯ä»¥çœ‹åˆ°åç«¯èŠ‚ç‚¹çš„ç›‘æ§çŠ¶å†µï¼Œ</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq7qgzpdj20ja0ao40o.jpg" alt="img"></p>
<h3 id="1-11-4-å®‰è£…socat-ç›´æ¥æ“ä½œsocketæ§åˆ¶haproxy">1.11.4 å®‰è£…socat ç›´æ¥æ“ä½œsocketæ§åˆ¶haproxy</h3>
<p>1ã€å®‰è£…è½¯ä»¶</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install socat<span class="selector-class">.x86_64</span> -y</span><br></pre></td></tr></table></figure>
<p>2ã€æŸ¥çœ‹å¸®åŠ©</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> web_data]<span class="meta"># echo <span class="string">"help"</span>|socat stdio /var/lib/haproxy/stats</span></span><br></pre></td></tr></table></figure>
<p>3ã€ä¸‹çº¿åç«¯èŠ‚ç‚¹</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"disable server backend_www_example_com/web-node2"</span>|socat stdio /var/<span class="class"><span class="keyword">lib</span>/<span class="title">haproxy</span>/<span class="title">stats</span></span></span><br></pre></td></tr></table></figure>
<p>4ã€ä¸Šçº¿åç«¯èŠ‚ç‚¹</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"enable server backend_www_example_com/web-node3"</span>|socat stdio /var/<span class="class"><span class="keyword">lib</span>/<span class="title">haproxy</span>/<span class="title">stats</span></span></span><br></pre></td></tr></table></figure>
<p>5ã€ç¼–å†™phpæµ‹è¯•é¡µï¼Œæ”¾åˆ°/data/web_dataä¸‹ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®å¯ä»¥æŸ¥çœ‹å½“å‰çš„èŠ‚ç‚¹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 web_data]# vim check.php</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>PHPæµ‹è¯•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span>  <span class="keyword">echo</span> <span class="string">'&lt;p&gt;Hello World &lt;/p&gt;'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span>  <span class="keyword">echo</span> <span class="string">"è®¿é—®çš„æœåŠ¡å™¨åœ°å€æ˜¯:"</span>.<span class="string">"&lt;fontcolor=red&gt;"</span>.$_SERVER[<span class="string">'SERVER_ADDR'</span>].<span class="string">"&lt;/font&gt;"</span>.<span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span><span class="string">"è®¿é—®çš„æœåŠ¡å™¨åŸŸåæ˜¯:"</span>.<span class="string">"&lt;fontcolor=red&gt;"</span>.$_SERVER[<span class="string">'SERVER_NAME'</span>].<span class="string">"&lt;/font&gt;"</span>.<span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php">        <span class="meta">?&gt;</span></span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="1-12-é‡å¯dockeræœåŠ¡ï¼Œå®¹å™¨å…¨éƒ¨é€€å‡ºçš„è§£å†³åŠæ³•">1.12 é‡å¯dockeræœåŠ¡ï¼Œå®¹å™¨å…¨éƒ¨é€€å‡ºçš„è§£å†³åŠæ³•</h2>
<h3 id="1-12-1-åœ¨å¯åŠ¨æ˜¯æŒ‡å®šè‡ªåŠ¨é‡å¯">1.12.1 åœ¨å¯åŠ¨æ˜¯æŒ‡å®šè‡ªåŠ¨é‡å¯</h3>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span>  <span class="attribute">--restart</span>=always</span><br></pre></td></tr></table></figure>
<h3 id="1-12-2-ä¿®æ”¹dockeré»˜è®¤é…ç½®æ–‡ä»¶">1.12.2 ä¿®æ”¹dockeré»˜è®¤é…ç½®æ–‡ä»¶</h3>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ä¸Šä¸‹é¢è¿™è¡Œ</span></span><br><span class="line"><span class="attr">"live-restore":</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>docker serveré…ç½®æ–‡ä»¶/etc/docker/daemon.jsonå‚è€ƒ</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker02</span> ~]<span class="meta"># cat  /etc/docker/daemon.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"registry-mirrors"</span>: [<span class="string">"https://registry.docker-cn.com"</span>],</span><br><span class="line">  <span class="string">"graph"</span>: <span class="string">"/opt/mydocker"</span>, <span class="meta"># ä¿®æ”¹æ•°æ®çš„å­˜æ”¾ç›®å½•åˆ°/opt/mydocker/ï¼ŒåŸ/var/lib/docker/</span></span><br><span class="line">  <span class="string">"insecure-registries"</span>: [<span class="string">"10.0.0.100:5000"</span>],</span><br><span class="line">  <span class="string">"live-restore"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å¯ç”Ÿæ•ˆï¼Œåªå¯¹åœ¨æ­¤ä¹‹åå¯åŠ¨çš„å®¹å™¨ç”Ÿæ•ˆ</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># systemctl restart  docker.service</span></span><br></pre></td></tr></table></figure>
<h2 id="1-13-Dockerç½‘ç»œç±»å‹">1.13 Dockerç½‘ç»œç±»å‹</h2>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq7yq904j20ho0903z9.jpg" alt="img"></p>
<h3 id="1-13-1-dockerçš„ç½‘ç»œç±»å‹">1.13.1 dockerçš„ç½‘ç»œç±»å‹</h3>
<table>
<thead>
<tr>
<th><strong>ç±»å‹</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>None</strong></td>
<td>ä¸ä¸ºå®¹å™¨é…ç½®ä»»ä½•ç½‘ç»œåŠŸèƒ½ï¼Œæ²¡æœ‰ç½‘ç»œ --net=none</td>
</tr>
<tr>
<td><strong>Container</strong></td>
<td>ä¸å¦ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨å…±äº«Network Namespaceï¼Œâ€“net=container:containerID</td>
</tr>
<tr>
<td><strong>Host</strong></td>
<td>ä¸ä¸»æœºå…±äº«Network Namespaceï¼Œâ€“net=host</td>
</tr>
<tr>
<td><strong>Bridge</strong></td>
<td>Dockerè®¾è®¡çš„NATç½‘ç»œæ¨¡å‹**ï¼ˆé»˜è®¤ç±»å‹ï¼‰**</td>
</tr>
</tbody>
</table>
<p><strong>Bridge</strong>é»˜è®¤dockerç½‘ç»œéš”ç¦»åŸºäºç½‘ç»œå‘½åç©ºé—´ï¼Œåœ¨ç‰©ç†æœºä¸Šåˆ›å»ºdockerå®¹å™¨æ—¶ä¼šä¸ºæ¯ä¸€ä¸ªdockerå®¹å™¨åˆ†é…ç½‘ç»œå‘½åç©ºé—´ï¼Œå¹¶ä¸”æŠŠå®¹å™¨IPæ¡¥æ¥åˆ°ç‰©ç†æœºçš„è™šæ‹Ÿç½‘æ¡¥ä¸Šã€‚</p>
<h3 id="1-13-2-ä¸ä¸ºå®¹å™¨é…ç½®ç½‘ç»œåŠŸèƒ½">1.13.2 ä¸ä¸ºå®¹å™¨é…ç½®ç½‘ç»œåŠŸèƒ½</h3>
<p>æ­¤æ¨¡å¼ä¸‹åˆ›å»ºå®¹å™¨æ˜¯ä¸ä¼šä¸ºå®¹å™¨é…ç½®ä»»ä½•ç½‘ç»œå‚æ•°çš„ï¼Œå¦‚ï¼šå®¹å™¨ç½‘å¡ã€IPã€é€šä¿¡è·¯ç”±ç­‰ï¼Œå…¨éƒ¨éœ€è¦è‡ªå·±å»é…ç½®ã€‚</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run  -it --network none busybox:latest  /bin/sh</span><br><span class="line">/ # ip a</span><br><span class="line"><span class="number">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="number">65536</span> qdisc noqueue</span><br><span class="line">    link/loopback <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> brd <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line">    inet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>/<span class="number">8</span> scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
<h3 id="1-13-3-ä¸å…¶ä»–å®¹å™¨å…±äº«ç½‘ç»œé…ç½®-Containerï¼‰">1.13.3 ä¸å…¶ä»–å®¹å™¨å…±äº«ç½‘ç»œé…ç½®(Containerï¼‰</h3>
<p>æ­¤æ¨¡å¼å’Œhostæ¨¡å¼å¾ˆç±»ä¼¼ï¼Œåªæ˜¯æ­¤æ¨¡å¼åˆ›å»ºå®¹å™¨å…±äº«çš„æ˜¯å…¶ä»–å®¹å™¨çš„IPå’Œç«¯å£è€Œä¸æ˜¯ç‰©ç†æœºï¼Œæ­¤æ¨¡å¼å®¹å™¨è‡ªèº«æ˜¯ä¸ä¼šé…ç½®ç½‘ç»œå’Œç«¯å£ï¼Œåˆ›å»ºæ­¤æ¨¡å¼å®¹å™¨è¿›å»åï¼Œä½ ä¼šå‘ç°é‡Œè¾¹çš„IPæ˜¯ä½ æ‰€æŒ‡å®šçš„é‚£ä¸ªå®¹å™¨IPå¹¶ä¸”ç«¯å£ä¹Ÿæ˜¯å…±äº«çš„ï¼Œè€Œä¸”å…¶å®ƒè¿˜æ˜¯<strong>äº’ç›¸éš”ç¦»</strong>çš„ï¼Œå¦‚è¿›ç¨‹ç­‰ã€‚</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# docker run  -it --network container:mywordpress_db_1  busybox:latest  /bin/sh</span><br><span class="line">/ # ip a</span><br><span class="line"><span class="number">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="number">65536</span> qdisc noqueue</span><br><span class="line">    link/loopback <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> brd <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line">    inet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>/<span class="number">8</span> scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line"><span class="number">105</span>: <span class="symbol">eth0@</span>if106: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu <span class="number">1500</span> qdisc noqueue</span><br><span class="line">    link/ether <span class="number">02</span>:<span class="number">42</span>:ac:<span class="number">12</span>:<span class="number">00</span>:<span class="number">03</span> brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet <span class="number">172.18</span><span class="number">.0</span><span class="number">.3</span>/<span class="number">16</span> brd <span class="number">172.18</span><span class="number">.255</span><span class="number">.255</span> scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
<h3 id="1-13-4-ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ">1.13.4 ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ</h3>
<p>æ­¤æ¨¡å¼åˆ›å»ºçš„å®¹å™¨æ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„ç½‘ç»œå‘½åç©ºé—´ï¼Œæ˜¯å’Œç‰©ç†æœºå…±äº«ä¸€ä¸ªNetwork Namespaceï¼Œå¹¶ä¸”å…±äº«ç‰©ç†æœºçš„æ‰€æœ‰ç«¯å£ä¸IPï¼Œå¹¶ä¸”è¿™ä¸ªæ¨¡å¼è®¤ä¸ºæ˜¯ä¸å®‰å…¨çš„ã€‚</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> ~]<span class="meta"># docker run  -it --network host  busybox:latest  /bin/sh</span></span><br></pre></td></tr></table></figure>
<h3 id="1-13-5-æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨">1.13.5 æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨</h3>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker<span class="built_in"> network </span>list</span><br><span class="line">NETWORK ID          NAME                  DRIVER              SCOPE</span><br><span class="line">b15e8a720d3b       <span class="built_in"> bridge </span>              <span class="built_in"> bridge </span>             local</span><br><span class="line">345d65b4c2a0        host                  host                local</span><br><span class="line">bc5e2a32bb55        mywordpress_default  <span class="built_in"> bridge </span>             local</span><br><span class="line">ebf76eea91bb        none                  <span class="literal">null</span>                local</span><br></pre></td></tr></table></figure>
<h3 id="1-13-6-ç”¨PIPEWORKä¸ºdockerå®¹å™¨é…ç½®ç‹¬ç«‹IP">1.13.6 ç”¨PIPEWORKä¸ºdockerå®¹å™¨é…ç½®ç‹¬ç«‹IP</h3>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="http://blog.csdn.net/design321/article/details/48264825" target="_blank" rel="noopener">http://blog.csdn.net/design321/article/details/48264825</a></p>
<p>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://github.com/jpetazzo/pipework" target="_blank" rel="noopener">https://github.com/jpetazzo/pipework</a></p>
<p>å®¿ä¸»ç¯å¢ƒï¼šcentos7.2</p>
<p><strong>1</strong>**ã€å®‰è£…pipework**</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget <span class="string">https:</span><span class="comment">//github.com/jpetazzo/pipework/archive/master.zip</span></span><br><span class="line">unzip master.zip</span><br><span class="line">cp pipework-master<span class="regexp">/pipework  /</span>usr<span class="regexp">/local/</span>bin/</span><br><span class="line">chmod +x <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>pipework</span><br></pre></td></tr></table></figure>
<p><strong>2****é…ç½®æ¡¥æ¥ç½‘å¡</strong></p>
<p>å®‰è£…æ¡¥æ¥å·¥å…·</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install </span><span class="keyword">bridge-utils.x86_64 </span>-y</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ç½‘å¡é…ç½®ï¼Œå®ç°æ¡¥æ¥</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹eth0é…ç½®ï¼Œè®©br0å®ç°æ¡¥æ¥</span></span><br><span class="line">[root@docker01 ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="attribute">TYPE</span>=Ethernet</span><br><span class="line"><span class="attribute">BOOTPROTO</span>=static</span><br><span class="line"><span class="attribute">NAME</span>=eth0</span><br><span class="line"><span class="attribute">DEVICE</span>=eth0</span><br><span class="line"><span class="attribute">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attribute">BRIDGE</span>=br0</span><br><span class="line">[root@docker01 ~]# cat /etc/sysconfig/network-scripts/ifcfg-br0</span><br><span class="line"><span class="attribute">TYPE</span>=Bridge</span><br><span class="line"><span class="attribute">BOOTPROTO</span>=static</span><br><span class="line"><span class="attribute">NAME</span>=br0</span><br><span class="line"><span class="attribute">DEVICE</span>=br0</span><br><span class="line"><span class="attribute">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attribute">IPADDR</span>=10.0.0.100</span><br><span class="line"><span class="attribute">NETMASK</span>=255.255.255.0</span><br><span class="line"><span class="attribute">GATEWAY</span>=10.0.0.254</span><br><span class="line"><span class="attribute">DNS1</span>=223.5.5.5</span><br><span class="line"><span class="comment"># é‡å¯ç½‘ç»œ</span></span><br><span class="line">[root@docker01 ~]# /etc/init.d<span class="built_in">/network </span>restart</span><br></pre></td></tr></table></figure>
<p><strong>3</strong>**ã€è¿è¡Œä¸€ä¸ªå®¹å™¨é•œåƒæµ‹è¯•ï¼š**</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipework br0 $(docker run -d -it -p <span class="number">6880</span>:<span class="number">80</span> --name  httpd_pw httpd) <span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span>/<span class="symbol">24@</span><span class="number">10.0</span><span class="number">.0</span><span class="number">.254</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å…¶ä»–ä¸»æœºä¸Šæµ‹è¯•ç«¯å£åŠè¿é€šæ€§</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 ~]# curl <span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span></span><br><span class="line">&lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</span><br><span class="line">[<span class="symbol">root@</span>docker01 ~]# ping <span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span> -c <span class="number">1</span></span><br><span class="line">PING <span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span> (<span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span>) <span class="number">56</span>(<span class="number">84</span>) bytes of data.</span><br><span class="line"><span class="number">64</span> bytes <span class="keyword">from</span> <span class="number">10.0</span><span class="number">.0</span><span class="number">.220</span>: icmp_seq=<span class="number">1</span> ttl=<span class="number">64</span> time=<span class="number">0.043</span> ms</span><br></pre></td></tr></table></figure>
<p><strong>4</strong>**ã€å†è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œè®¾ç½®ç½‘è·¯ç±»å‹ä¸ºnone****ï¼š**</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipework br0 <span class="constructor">$(<span class="params">docker</span> <span class="params">run</span> -<span class="params">d</span> -<span class="params">it</span> --<span class="params">net</span>=<span class="params">none</span> --<span class="params">name</span> <span class="params">test</span> <span class="params">httpd</span>:2.4)</span> <span class="number">10.0</span>.<span class="number">0.221</span>/<span class="number">24</span>@<span class="number">10.0</span>.<span class="number">0.254</span></span><br></pre></td></tr></table></figure>
<p>è¿›è¡Œè®¿é—®æµ‹è¯•</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@docker01</span> ~]<span class="comment"># curl 10.0.0.221</span></span><br><span class="line"><span class="variable">&lt;html&gt;</span><span class="variable">&lt;body&gt;</span><span class="variable">&lt;h1&gt;</span>It works!<span class="variable">&lt;/h1&gt;</span><span class="variable">&lt;/body&gt;</span><span class="variable">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>5</strong>**ã€é‡å¯å®¹å™¨åéœ€è¦å†æ¬¡æŒ‡å®šï¼š**</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pipework br0 testduliip  <span class="number">172.16</span><span class="number">.146</span><span class="number">.113</span>/<span class="symbol">24@</span><span class="number">172.16</span><span class="number">.146</span><span class="number">.1</span></span><br><span class="line">pipework br0 testduliip01  <span class="number">172.16</span><span class="number">.146</span><span class="number">.112</span>/<span class="symbol">24@</span><span class="number">172.16</span><span class="number">.146</span><span class="number">.1</span></span><br></pre></td></tr></table></figure>
<p>Dcokerè·¨ä¸»æœºé€šä¿¡ä¹‹overlayå¯ä»¥å‚è€ƒï¼š</p>
<p><a href="http://www.cnblogs.com/CloudMan6/p/7270551.html" target="_blank" rel="noopener">http://www.cnblogs.com/CloudMan6/p/7270551.html</a></p>
<h3 id="1-13-7-Dockerè·¨ä¸»æœºé€šä¿¡ä¹‹macvlan">1.13.7 Dockerè·¨ä¸»æœºé€šä¿¡ä¹‹macvlan</h3>
<p>åˆ›å»ºç½‘ç»œ</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]# docker<span class="built_in"> network </span> create --driver macvlan  --subnet 10.1.0.0/24 --gateway 10.1.0.254 -o <span class="attribute">parent</span>=eth0  macvlan_1</span><br><span class="line">33a1f41dcc074f91b5bd45e7dfedabfb2b8ec82db16542f05213839a119b62ca</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®ç½‘å¡ä¸ºæ··æ‚æ¨¡å¼</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link <span class="keyword">set</span> eth0 promisc <span class="keyword">on</span></span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºä½¿ç”¨macvlanç½‘ç»œå®¹å™¨</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker02 ~]# docker run  -it --network macvlan_1  --ip=<span class="number">10.1</span><span class="number">.0</span><span class="number">.222</span> busybox /bin/sh</span><br></pre></td></tr></table></figure>
<h2 id="1-14-dockerä¼ä¸šçº§é•œåƒä»“åº“harbor">1.14 dockerä¼ä¸šçº§é•œåƒä»“åº“harbor</h2>
<p><strong>å®¹å™¨ç®¡ç†</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> harbor]<span class="meta"># pwd</span></span><br><span class="line">/opt/harbor</span><br><span class="line">[root<span class="symbol">@docker01</span> harbor]<span class="meta"># docker-compose stop</span></span><br></pre></td></tr></table></figure>
<p>1ã€å®‰è£…dockerã€docker-compose</p>
<p>ä¸‹è½½ harbor</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /<span class="keyword">opt</span> &amp;&amp; http<span class="variable">s:</span>//storage.googleapis.<span class="keyword">com</span>/harbor-releases/harbor-offline-installer-v1.<span class="number">3.0</span>.tgz</span><br><span class="line">tar xf harbor-offline-installer-v1.<span class="number">3.0</span>.tgz</span><br></pre></td></tr></table></figure>
<p>2ã€ä¿®æ”¹ä¸»æœºåŠwebç•Œé¢å¯†ç </p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker01 harbor]# vim harbor.cfg</span><br><span class="line">    Â·Â·Â·</span><br><span class="line">    hostname = <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span></span><br><span class="line">    harbor_admin_password = Harbor12345</span><br><span class="line">    Â·Â·Â·</span><br></pre></td></tr></table></figure>
<p>3ã€æ‰§è¡Œå®‰è£…è„šæœ¬</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@docker01</span> harbor]<span class="meta"># ./install.sh</span></span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨è®¿é—® <a href="http://10.0.0.11" target="_blank" rel="noopener">http://10.0.0.11</a></p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq8dst79j20gn07f0sx.jpg" alt="img"></p>
<p>æ·»åŠ ä¸€ä¸ªé¡¹ç›®</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq8gez0fj20js06nmxf.jpg" alt="img"></p>
<p>4ã€é•œåƒæ¨é€åˆ°ä»“åº“çš„æŒ‡å®šé¡¹ç›®</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker02 ~]# docker  tag centos:<span class="number">6.8</span>  <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>/clsn/centos6<span class="number">.8</span>:<span class="number">1.0</span></span><br><span class="line">[<span class="symbol">root@</span>docker02 ~]#</span><br><span class="line">[<span class="symbol">root@</span>docker02 ~]# docker images</span><br><span class="line">REPOSITORY                  TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">busybox                     latest              <span class="number">5</span>b0d59026729        <span class="number">8</span> days ago          <span class="number">1.15</span>MB</span><br><span class="line"><span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>/clsn/centos6<span class="number">.8</span>   <span class="number">1.0</span>                 <span class="number">6704</span>d778b3ba        <span class="number">2</span> months ago        <span class="number">195</span>MB</span><br><span class="line">centos                      <span class="number">6.8</span>                 <span class="number">6704</span>d778b3ba        <span class="number">2</span> months ago        <span class="number">195</span>MB</span><br><span class="line">[<span class="symbol">root@</span>docker02 ~]# docker login <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span></span><br><span class="line">Username: admin</span><br><span class="line">Password:</span><br><span class="line">Login Succeeded</span><br></pre></td></tr></table></figure>
<p>5ã€æ¨é€é•œåƒ</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>docker02 ~]# docker push <span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>/clsn/centos6<span class="number">.8</span></span><br><span class="line">The push <span class="built_in">ref</span>ers to repository [<span class="number">10.0</span><span class="number">.0</span><span class="number">.100</span>/clsn/centos6<span class="number">.8</span>]</span><br><span class="line">e00c9229b481: Pushing  <span class="number">13.53</span>MB/<span class="number">194.5</span>MB</span><br></pre></td></tr></table></figure>
<p>6ã€åœ¨webç•Œé¢é‡ŒæŸ¥çœ‹</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h1pq8k59juj20ht07ht92.jpg" alt="img"></p>
<h3 id="1-14-1-ä½¿ç”¨å®¹å™¨çš„å»ºè®®">1.14.1 ä½¿ç”¨å®¹å™¨çš„å»ºè®®</h3>
<ol>
<li>
<p>ä¸è¦ä»¥æ‹†åˆ†æ–¹å¼è¿›è¡Œåº”ç”¨ç¨‹åºå‘å¸ƒ</p>
</li>
<li>
<p>ä¸è¦åˆ›å»ºå¤§å‹é•œåƒ</p>
</li>
<li>
<p>ä¸è¦åœ¨å•ä¸ªå®¹å™¨ä¸­è¿è¡Œå¤šä¸ªè¿›ç¨‹</p>
</li>
<li>
<p>ä¸è¦å†é•œåƒå†…ä¿å­˜å‡­è¯ï¼Œä¸è¦ä¾èµ–IPåœ°å€</p>
</li>
<li>
<p>ä»¥érootç”¨æˆ·è¿è¡Œè¿›ç¨‹</p>
</li>
<li>
<p>ä¸è¦ä½¿ç”¨â€œæœ€æ–°â€æ ‡ç­¾</p>
</li>
<li>
<p>ä¸è¦åˆ©ç”¨è¿è¡Œä¸­çš„å®¹å™¨åˆ›å»ºé•œåƒ</p>
</li>
<li>
<p>ä¸è¦ä½¿ç”¨å•å±‚é•œåƒ</p>
</li>
<li>
<p>ä¸è¦å°†æ•°æ®å­˜æ”¾åœ¨å®¹å™¨å†…</p>
</li>
</ol>
<h3 id="1-14-2-å…³äºDockerå®¹å™¨çš„ç›‘æ§">1.14.2 å…³äºDockerå®¹å™¨çš„ç›‘æ§</h3>
<p><strong>å®¹å™¨çš„åŸºæœ¬ä¿¡æ¯</strong></p>
<p>åŒ…æ‹¬å®¹å™¨çš„æ•°é‡ã€IDã€åç§°ã€é•œåƒã€å¯åŠ¨å‘½ä»¤ã€ç«¯å£ç­‰ä¿¡æ¯</p>
<p><strong>å®¹å™¨çš„è¿è¡ŒçŠ¶æ€</strong></p>
<p>ç»Ÿè®¡å„çŠ¶æ€çš„å®¹å™¨çš„æ•°é‡ï¼ŒåŒ…æ‹¬è¿è¡Œä¸­ã€æš‚åœã€åœæ­¢åŠå¼‚å¸¸é€€å‡º</p>
<p><strong>å®¹å™¨çš„ç”¨é‡ä¿¡æ¯</strong></p>
<p>ç»Ÿè®¡å®¹å™¨çš„CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨é‡ã€å—è®¾å¤‡I/Oä½¿ç”¨é‡ã€ç½‘ç»œä½¿ç”¨æƒ…å†µç­‰èµ„æºçš„ä½¿ç”¨æƒ…å†µ</p>
<h2 id="1-15-å‚è€ƒæ–‡çŒ®">1.15 å‚è€ƒæ–‡çŒ®</h2>
<blockquote>
<p>[1] <a href="https://www.redhat.com/zh/topics/containers/whats-a-linux-container" target="_blank" rel="noopener">https://www.redhat.com/zh/topics/containers/whats-a-linux-container</a></p>
<p>[2] <a href="https://www.redhat.com/zh/topics/containers/what-is-docker" target="_blank" rel="noopener">https://www.redhat.com/zh/topics/containers/what-is-docker</a></p>
<p>[3] <a href="http://blog.51cto.com/dihaifeng/1713512" target="_blank" rel="noopener">http://blog.51cto.com/dihaifeng/1713512</a></p>
<p>[4] <a href="https://www.cnblogs.com/Bourbon-tian/p/6867796.html" target="_blank" rel="noopener">https://www.cnblogs.com/Bourbon-tian/p/6867796.html</a></p>
<p>[5] <a href="https://www.cnblogs.com/CloudMan6/p/6806193.html" target="_blank" rel="noopener">https://www.cnblogs.com/CloudMan6/p/6806193.html</a></p>
</blockquote>

      
    </div>
    
    
    

<div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html">Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨</a></p>
  <p><span>å‘å¸ƒæ—¶é—´:</span>2022å¹´04æœˆ28æ—¥ - 21:04</p>
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html" title="Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨">http://www.renpeter.cn/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html</a>
    <span class="copy-path"  title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard" data-clipboard-text="http://www.renpeter.cn/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html"  aria-label="å¤åˆ¶æˆåŠŸï¼"></i></span>
  </p>
  <p><span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
	  $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: 'å¤åˆ¶æˆåŠŸ',
          icon: "success", 
          showConfirmButton: true
          });
	    });
    });  
</script>

      
</div>


    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>Coffee or Tea</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="PiQianChao WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag"># å®¹å™¨</a>
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2022/04/27/Python%E5%AE%9E%E7%8E%B0%E8%B7%B3%E8%AF%8D%E4%BA%91%E8%88%9E.html" rel="next" title="Pythonå®ç°è·³è¯äº‘èˆ">
                <i class="fa fa-chevron-left"></i> Pythonå®ç°è·³è¯äº‘èˆ
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2022/05/02/%E6%9E%81%E4%B8%8D%E5%9D%87%E8%A1%A1%E6%A0%B7%E6%9C%AC%E7%9A%84%E4%BF%A1%E7%94%A8%E5%8D%A1%E6%AC%BA%E8%AF%88%E5%88%86%E6%9E%90.html" rel="prev" title="æä¸å‡è¡¡æ ·æœ¬çš„ä¿¡ç”¨å¡æ¬ºè¯ˆåˆ†æ">
                æä¸å‡è¡¡æ ·æœ¬çš„ä¿¡ç”¨å¡æ¬ºè¯ˆåˆ†æ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/cunshang.jpg"
                alt="PiQianChao" />
            
              <p class="site-author-name" itemprop="name">PiQianChao</p>
              <p class="site-description motion-element" itemprop="description">My Blog</p>
          </div>
            
           <iframe  frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=694660&auto=1&height=66"></iframe>
          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">784</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">102</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">126</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/pidada" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:pichaochao1119@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#2ä¸‡-å­—ï¼Œé‡å­¦Dockerå®¹å™¨"><span class="nav-number">1.</span> <span class="nav-text">2ä¸‡+å­—ï¼Œé‡å­¦Dockerå®¹å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-å®¹å™¨ç®€ä»‹"><span class="nav-number">2.</span> <span class="nav-text">1.1 å®¹å™¨ç®€ä»‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-ä»€ä¹ˆæ˜¯-Linux-å®¹å™¨"><span class="nav-number">2.1.</span> <span class="nav-text">1.1.1 ä»€ä¹ˆæ˜¯ Linux å®¹å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-å®¹å™¨ä¸å°±æ˜¯è™šæ‹ŸåŒ–å—"><span class="nav-number">2.2.</span> <span class="nav-text">1.1.2 å®¹å™¨ä¸å°±æ˜¯è™šæ‹ŸåŒ–å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-å®¹å™¨å‘å±•ç®€å²"><span class="nav-number">2.3.</span> <span class="nav-text">1.1.3 å®¹å™¨å‘å±•ç®€å²</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-ä»€ä¹ˆæ˜¯-Dockerï¼Ÿ"><span class="nav-number">3.</span> <span class="nav-text">1.2 ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-Docker-å¦‚ä½•å·¥ä½œï¼Ÿ"><span class="nav-number">3.1.</span> <span class="nav-text">1.2.1 Docker å¦‚ä½•å·¥ä½œï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-Docker-æŠ€æœ¯æ˜¯å¦ä¸ä¼ ç»Ÿçš„-Linux-å®¹å™¨ç›¸åŒï¼Ÿ"><span class="nav-number">3.2.</span> <span class="nav-text">1.2.2 Docker æŠ€æœ¯æ˜¯å¦ä¸ä¼ ç»Ÿçš„ Linux å®¹å™¨ç›¸åŒï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-dockerçš„ç›®æ ‡"><span class="nav-number">3.3.</span> <span class="nav-text">1.2.3 dockerçš„ç›®æ ‡</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-å®‰è£…Docker"><span class="nav-number">4.</span> <span class="nav-text">1.3 å®‰è£…Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-DockeråŸºç¡€å‘½ä»¤æ“ä½œ"><span class="nav-number">4.1.</span> <span class="nav-text">1.3.1 DockeråŸºç¡€å‘½ä»¤æ“ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-å¯åŠ¨ç¬¬ä¸€ä¸ªå®¹å™¨"><span class="nav-number">4.2.</span> <span class="nav-text">1.3.2 å¯åŠ¨ç¬¬ä¸€ä¸ªå®¹å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-3-Dockeré•œåƒç”Ÿå‘½å‘¨æœŸ"><span class="nav-number">4.3.</span> <span class="nav-text">1.3.3 Dockeré•œåƒç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-dockeré•œåƒç›¸å…³æ“ä½œ"><span class="nav-number">5.</span> <span class="nav-text">1.4 dockeré•œåƒç›¸å…³æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-æœç´¢å®˜æ–¹ä»“åº“é•œåƒ"><span class="nav-number">5.1.</span> <span class="nav-text">1.4.1 æœç´¢å®˜æ–¹ä»“åº“é•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-è·å–é•œåƒ"><span class="nav-number">5.2.</span> <span class="nav-text">1.4.2 è·å–é•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-3-å¯¼å‡ºé•œåƒ"><span class="nav-number">5.3.</span> <span class="nav-text">1.4.3 å¯¼å‡ºé•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-4-åˆ é™¤é•œåƒ"><span class="nav-number">5.4.</span> <span class="nav-text">1.4.4 åˆ é™¤é•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-5-å¯¼å…¥é•œåƒ"><span class="nav-number">5.5.</span> <span class="nav-text">1.4.5 å¯¼å…¥é•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-6-æŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯"><span class="nav-number">5.6.</span> <span class="nav-text">1.4.6 æŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-å®¹å™¨çš„æ—¥å¸¸ç®¡ç†"><span class="nav-number">6.</span> <span class="nav-text">1.5 å®¹å™¨çš„æ—¥å¸¸ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-å®¹å™¨çš„èµ·-åœ"><span class="nav-number">6.1.</span> <span class="nav-text">1.5.1 å®¹å™¨çš„èµ·/åœ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-è¿›å…¥å®¹å™¨æ–¹æ³•"><span class="nav-number">6.2.</span> <span class="nav-text">1.5.2 è¿›å…¥å®¹å™¨æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-3-åˆ é™¤æ‰€æœ‰å®¹å™¨"><span class="nav-number">6.3.</span> <span class="nav-text">1.5.3 åˆ é™¤æ‰€æœ‰å®¹å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-4-å¯åŠ¨æ—¶è¿›è¡Œç«¯å£æ˜ å°„"><span class="nav-number">6.4.</span> <span class="nav-text">1.5.4 å¯åŠ¨æ—¶è¿›è¡Œç«¯å£æ˜ å°„</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-Docker-æ•°æ®å·çš„ç®¡ç†"><span class="nav-number">7.</span> <span class="nav-text">1.6 Docker æ•°æ®å·çš„ç®¡ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-1-æŒ‚è½½æ—¶åˆ›å»ºå·"><span class="nav-number">7.1.</span> <span class="nav-text">1.6.1 æŒ‚è½½æ—¶åˆ›å»ºå·</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-2-åˆ›å»ºå·åæŒ‚è½½"><span class="nav-number">7.2.</span> <span class="nav-text">1.6.2 åˆ›å»ºå·åæŒ‚è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-3-æ‰‹åŠ¨å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ"><span class="nav-number">7.3.</span> <span class="nav-text">1.6.3 æ‰‹åŠ¨å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-Dockerfileè‡ªåŠ¨æ„å»ºdockeré•œåƒ"><span class="nav-number">8.</span> <span class="nav-text">1.7 Dockerfileè‡ªåŠ¨æ„å»ºdockeré•œåƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-1-DockerfileæŒ‡ä»¤é›†"><span class="nav-number">8.1.</span> <span class="nav-text">1.7.1 DockerfileæŒ‡ä»¤é›†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-2-åˆ›å»ºä¸€ä¸ªDockerfile"><span class="nav-number">8.2.</span> <span class="nav-text">1.7.2 åˆ›å»ºä¸€ä¸ªDockerfile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-3-ä½¿ç”¨Dcokerfileå®‰è£…kodexplorer"><span class="nav-number">8.3.</span> <span class="nav-text">1.7.3 ä½¿ç”¨Dcokerfileå®‰è£…kodexplorer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-Dockerä¸­çš„é•œåƒåˆ†å±‚"><span class="nav-number">9.</span> <span class="nav-text">1.8 Dockerä¸­çš„é•œåƒåˆ†å±‚</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-1-Docker-é•œåƒä¸ºä»€ä¹ˆåˆ†å±‚"><span class="nav-number">9.1.</span> <span class="nav-text">1.8.1 Docker é•œåƒä¸ºä»€ä¹ˆåˆ†å±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-2-å¯å†™çš„å®¹å™¨å±‚"><span class="nav-number">9.2.</span> <span class="nav-text">1.8.2 å¯å†™çš„å®¹å™¨å±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-3-å®¹å™¨å±‚çš„ç»†èŠ‚è¯´æ˜"><span class="nav-number">9.3.</span> <span class="nav-text">1.8.3 å®¹å™¨å±‚çš„ç»†èŠ‚è¯´æ˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-9-ä½¿ç”¨dockerè¿è¡Œzabbix-server"><span class="nav-number">10.</span> <span class="nav-text">1.9 ä½¿ç”¨dockerè¿è¡Œzabbix-server</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9-1-å®¹å™¨é—´çš„äº’è”"><span class="nav-number">10.1.</span> <span class="nav-text">1.9.1 å®¹å™¨é—´çš„äº’è”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9-2-å¯åŠ¨zabbixå®¹å™¨"><span class="nav-number">10.2.</span> <span class="nav-text">1.9.2 å¯åŠ¨zabbixå®¹å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-9-3-å…³äºzabbix-API"><span class="nav-number">10.3.</span> <span class="nav-text">1.9.3 å…³äºzabbix API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-10-docker-ä»“åº“ï¼ˆregistryï¼‰"><span class="nav-number">11.</span> <span class="nav-text">1.10 docker ä»“åº“ï¼ˆregistryï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-10-1-åˆ›å»ºä¸€ä¸ªæ™®é€šä»“åº“"><span class="nav-number">11.1.</span> <span class="nav-text">1.10.1 åˆ›å»ºä¸€ä¸ªæ™®é€šä»“åº“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-10-2-å¸¦basicè®¤è¯çš„ä»“åº“"><span class="nav-number">11.2.</span> <span class="nav-text">1.10.2 å¸¦basicè®¤è¯çš„ä»“åº“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-11-docker-composeç¼–æ’å·¥å…·"><span class="nav-number">12.</span> <span class="nav-text">1.11 docker-composeç¼–æ’å·¥å…·</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-11-1-å®‰è£…docker-compose"><span class="nav-number">12.1.</span> <span class="nav-text">1.11.1 å®‰è£…docker-compose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-11-2-ç¼–æ’å¯åŠ¨é•œåƒ"><span class="nav-number">12.2.</span> <span class="nav-text">1.11.2 ç¼–æ’å¯åŠ¨é•œåƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-11-3-haproxyä»£ç†åç«¯dockerå®¹å™¨"><span class="nav-number">12.3.</span> <span class="nav-text">1.11.3 haproxyä»£ç†åç«¯dockerå®¹å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-11-4-å®‰è£…socat-ç›´æ¥æ“ä½œsocketæ§åˆ¶haproxy"><span class="nav-number">12.4.</span> <span class="nav-text">1.11.4 å®‰è£…socat ç›´æ¥æ“ä½œsocketæ§åˆ¶haproxy</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-12-é‡å¯dockeræœåŠ¡ï¼Œå®¹å™¨å…¨éƒ¨é€€å‡ºçš„è§£å†³åŠæ³•"><span class="nav-number">13.</span> <span class="nav-text">1.12 é‡å¯dockeræœåŠ¡ï¼Œå®¹å™¨å…¨éƒ¨é€€å‡ºçš„è§£å†³åŠæ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-12-1-åœ¨å¯åŠ¨æ˜¯æŒ‡å®šè‡ªåŠ¨é‡å¯"><span class="nav-number">13.1.</span> <span class="nav-text">1.12.1 åœ¨å¯åŠ¨æ˜¯æŒ‡å®šè‡ªåŠ¨é‡å¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-12-2-ä¿®æ”¹dockeré»˜è®¤é…ç½®æ–‡ä»¶"><span class="nav-number">13.2.</span> <span class="nav-text">1.12.2 ä¿®æ”¹dockeré»˜è®¤é…ç½®æ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-13-Dockerç½‘ç»œç±»å‹"><span class="nav-number">14.</span> <span class="nav-text">1.13 Dockerç½‘ç»œç±»å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-1-dockerçš„ç½‘ç»œç±»å‹"><span class="nav-number">14.1.</span> <span class="nav-text">1.13.1 dockerçš„ç½‘ç»œç±»å‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-2-ä¸ä¸ºå®¹å™¨é…ç½®ç½‘ç»œåŠŸèƒ½"><span class="nav-number">14.2.</span> <span class="nav-text">1.13.2 ä¸ä¸ºå®¹å™¨é…ç½®ç½‘ç»œåŠŸèƒ½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-3-ä¸å…¶ä»–å®¹å™¨å…±äº«ç½‘ç»œé…ç½®-Containerï¼‰"><span class="nav-number">14.3.</span> <span class="nav-text">1.13.3 ä¸å…¶ä»–å®¹å™¨å…±äº«ç½‘ç»œé…ç½®(Containerï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-4-ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ"><span class="nav-number">14.4.</span> <span class="nav-text">1.13.4 ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-5-æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨"><span class="nav-number">14.5.</span> <span class="nav-text">1.13.5 æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-6-ç”¨PIPEWORKä¸ºdockerå®¹å™¨é…ç½®ç‹¬ç«‹IP"><span class="nav-number">14.6.</span> <span class="nav-text">1.13.6 ç”¨PIPEWORKä¸ºdockerå®¹å™¨é…ç½®ç‹¬ç«‹IP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-13-7-Dockerè·¨ä¸»æœºé€šä¿¡ä¹‹macvlan"><span class="nav-number">14.7.</span> <span class="nav-text">1.13.7 Dockerè·¨ä¸»æœºé€šä¿¡ä¹‹macvlan</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-14-dockerä¼ä¸šçº§é•œåƒä»“åº“harbor"><span class="nav-number">15.</span> <span class="nav-text">1.14 dockerä¼ä¸šçº§é•œåƒä»“åº“harbor</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-14-1-ä½¿ç”¨å®¹å™¨çš„å»ºè®®"><span class="nav-number">15.1.</span> <span class="nav-text">1.14.1 ä½¿ç”¨å®¹å™¨çš„å»ºè®®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-14-2-å…³äºDockerå®¹å™¨çš„ç›‘æ§"><span class="nav-number">15.2.</span> <span class="nav-text">1.14.2 å…³äºDockerå®¹å™¨çš„ç›‘æ§</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-15-å‚è€ƒæ–‡çŒ®"><span class="nav-number">16.</span> <span class="nav-text">1.15 å‚è€ƒæ–‡çŒ®</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

	
	
		<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
		<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
		<div class="widget-wrap">
			<h3 class="widget-title">æ ‡ç­¾äº‘</h3>
			<div id="myCanvasContainer" class="widget tagcloud">
			<canvas width="250" height="250" id="resCanvas" style="width=100%">
				 <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSV/" rel="tag">CSV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/" rel="tag">Hadoop</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/" rel="tag">Hive</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JJ/" rel="tag">JJ</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jieba/" rel="tag">Jieba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KDE/" rel="tag">KDE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kats/" rel="tag">Kats</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTex/" rel="tag">LaTex</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">67</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/" rel="tag">NLP</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PCA/" rel="tag">PCA</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SVM/" rel="tag">SVM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tool/" rel="tag">Tool</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/d3/" rel="tag">d3</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dash/" rel="tag">dash</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/" rel="tag">go</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/highcharts/" rel="tag">highcharts</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/" rel="tag">json</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kaggle/" rel="tag">kaggle</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keras/" rel="tag">keras</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/matplotlib/" rel="tag">matplotlib</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/" rel="tag">numpy</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/" rel="tag">pandas</a><span class="tag-list-count">147</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plotly/" rel="tag">plotly</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/px/" rel="tag">px</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyecharts/" rel="tag">pyecharts</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyg2plot/" rel="tag">pyg2plot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">97</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/seaborn/" rel="tag">seaborn</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sklearn/" rel="tag">sklearn</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spider/" rel="tag">spider</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlzoo/" rel="tag">sqlzoo</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tableau/" rel="tag">tableau</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uci/" rel="tag">uci</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86%E7%B1%BB/" rel="tag">äºŒåˆ†ç±»</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/" rel="tag">äº’è”ç½‘</a><span class="tag-list-count">38</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%A7%E5%93%81/" rel="tag">äº§å“</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/" rel="tag">å…¬ä¼—å·</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90/" rel="tag">å…³è”åˆ†æ</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%99%E4%BD%9C/" rel="tag">å†™ä½œ</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E7%B1%BB/" rel="tag">åˆ†ç±»</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9F%9F%E9%93%BE/" rel="tag">åŒºåŸŸé“¾</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%B7%E7%A7%AF/" rel="tag">å·ç§¯</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AC%E5%9B%9E%E7%8E%87/" rel="tag">å¬å›ç‡</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">å¯è§†åŒ–</a><span class="tag-list-count">125</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%B4%E6%81%A9%E8%BE%BE/" rel="tag">å´æ©è¾¾</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%9E%E5%BD%92/" rel="tag">å›å½’</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/" rel="tag">å›å½’åˆ†æ</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" rel="tag">å›¾åƒå¤„ç†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E9%87%91/" rel="tag">åŸºé‡‘</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">å¤§æ•°æ®</a><span class="tag-list-count">48</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A9%E6%B1%A0/" rel="tag">å¤©æ± </a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E5%85%B8/" rel="tag">å­—å…¸</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag">å®¹å™¨</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%BC%E6%95%B0/" rel="tag">å¯¼æ•°</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">å·¥å…·</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E6%BA%90/" rel="tag">å¼€æº</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%B5%8B/" rel="tag">å¼‚å¸¸æ£€æµ‹</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BD%92%E4%B8%80%E5%8C%96/" rel="tag">å½’ä¸€åŒ–</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AA%E7%8E%AF/" rel="tag">å¾ªç¯</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%90%E9%95%BF/" rel="tag">æˆé•¿</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%95%E8%B5%84/" rel="tag">æŠ•èµ„</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" rel="tag">æ¨èç³»ç»Ÿ</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">æ•°å­¦</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag">æ•°æ®åˆ†æ</a><span class="tag-list-count">86</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" rel="tag">æ•°æ®å¤„ç†</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">æ•°æ®åº“</a><span class="tag-list-count">104</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" rel="tag">æ•°æ®æŒ–æ˜</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" rel="tag">æ–‡æœ¬å¤„ç†</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%85%E6%B8%B8/" rel="tag">æ—…æ¸¸</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/" rel="tag">æ— ç›‘ç£å­¦ä¹ </a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E5%BA%8F%E5%88%86%E6%9E%90/" rel="tag">æ—¶åºåˆ†æ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/" rel="tag">æ—¶é—´åºåˆ—</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">æœºå™¨å­¦ä¹ </a><span class="tag-list-count">128</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%8E%E6%B2%90/" rel="tag">ææ²</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E5%8C%96/" rel="tag">æ­£åˆ™åŒ–</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%9C%B3/" rel="tag">æ·±åœ³</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">æ·±åº¦å­¦ä¹ </a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E6%BC%82/" rel="tag">æ·±æ¼‚</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/" rel="tag">æ¿€æ´»å‡½æ•°</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">çˆ¬è™«</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%9B%E5%AE%A2/" rel="tag">ç‰›å®¢</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/" rel="tag">ç‰¹å¾å·¥ç¨‹</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E5%BE%81%E7%BC%96%E7%A0%81/" rel="tag">ç‰¹å¾ç¼–ç </a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8B%AC%E7%83%AD%E7%A0%81/" rel="tag">ç‹¬çƒ­ç </a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB/" rel="tag">ç”Ÿæ´»</a><span class="tag-list-count">50</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%B5%E5%BD%B1/" rel="tag">ç”µå½±</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/" rel="tag">ç›‘ç£å­¦ä¹ </a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E5%85%B3%E6%80%A7/" rel="tag">ç›¸å…³æ€§</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0/" rel="tag">ç›¸å…³ç³»æ•°</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" rel="tag">ç¥ç»ç½‘ç»œ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/" rel="tag">ç¦»æ•£åŒ–</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%AF%E5%88%86/" rel="tag">ç§¯åˆ†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0/" rel="tag">çª—å£å‡½æ•°</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%9E%E8%B5%9B/" rel="tag">ç«èµ›</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B2%BE%E5%BA%A6/" rel="tag">ç²¾åº¦</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B4%A2%E5%BC%95/" rel="tag">ç´¢å¼•</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E6%B5%8E/" rel="tag">ç»æµ</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%9F%E8%AE%A1/" rel="tag">ç»Ÿè®¡</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">ç¼–ç </a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">ç¼–ç¨‹</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">ç½‘ç»œ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BE%8E%E9%A3%9F/" rel="tag">ç¾é£Ÿ</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%9A%E7%B1%BB/" rel="tag">èšç±»</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" rel="tag">è‡ªåŠ¨åŒ–</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E6%88%91%E7%AE%A1%E7%90%86/" rel="tag">è‡ªæˆ‘ç®¡ç†</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag">è®¡ç®—æœº</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%8D%E4%BA%91%E5%9B%BE/" rel="tag">è¯äº‘å›¾</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E8%90%A5/" rel="tag">è¿è¥</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%92%E5%BD%92/" rel="tag">é€’å½’</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/" rel="tag">é€»è¾‘å›å½’</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%85%E8%AF%BB/" rel="tag">é˜…è¯»</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%99%8D%E7%BB%B4/" rel="tag">é™ç»´</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/" rel="tag">éšæœºæ£®æ—</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/" rel="tag">é›†æˆå­¦ä¹ </a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%92%E6%98%A5/" rel="tag">é’æ˜¥</a><span class="tag-list-count">1</span></li></ul>
			</canvas>
			</div>
		</div>
	

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PiQianChao</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">åšå®¢å…¨ç«™å…±1181.6kå­—</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="true"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://pidada.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://www.renpeter.cn/2022/04/28/Docker%E4%BB%8E%E6%94%BE%E5%BC%83%E5%88%B0%E5%85%A5%E9%97%A8.html';
          this.page.identifier = '2022/04/28/Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨.html';
          this.page.title = 'Dockerä»æ”¾å¼ƒåˆ°å…¥é—¨';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://pidada.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  




<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


</body>
</html>
