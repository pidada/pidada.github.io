<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="pandas,可视化,px," />





  <link rel="alternate" href="/atom.xml" title="尤尔小屋" type="application/atom+xml" />






<meta name="description" content="本文中介绍的是如何在plotly中绘制柱状图Bar  基于px.bar 基于go.Bar">
<meta name="keywords" content="pandas,可视化,px">
<meta property="og:type" content="article">
<meta property="og:title" content="plotly-express-11-plotly实现柱状图">
<meta property="og:url" content="http:&#x2F;&#x2F;www.renpeter.cn&#x2F;2020&#x2F;06&#x2F;29&#x2F;plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html">
<meta property="og:site_name" content="尤尔小屋">
<meta property="og:description" content="本文中介绍的是如何在plotly中绘制柱状图Bar  基于px.bar 基于go.Bar">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99kmj65uj30ak086aa8.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1ggilyeghzgj30x80q6jux.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1ggilz9nhsvj31b40q4q6f.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1ggimgjy4g0j31ei0qiaed.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1ggimi91c08j31cc0q8dk3.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99kskg13j30qd0eo74q.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99kwv7fdj30sw0dujs9.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99mqtkhjj30tf0ftjtw.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99l49hy9j30t60cr758.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99l7hrd7j30rv0e0aaq.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99lb98koj30og0b5gls.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99lfhqmsj30th0kcq3y.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99lkct34j30qg0c474k.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99loux2jj30r90f4jrw.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99na5v6tj30qf0cimyp.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99lxt0nzj30po0ca3yo.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99m0k42zj30t90igmxy.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99m67hv6j30t20i3aar.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99mca1s6j30sh0hhmxt.jpg">
<meta property="og:updated_time" content="2020-07-07T11:17:03.533Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;large&#x2F;007S8ZIlgy1gg99kmj65uj30ak086aa8.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    
    emojis: {
      className: 'github-emoji'
    }
  };
</script>



  <link rel="canonical" href="http://www.renpeter.cn/2020/06/29/plotly-express-11-plotly实现柱状图.html"/>





  <title>plotly-express-11-plotly实现柱状图 | 尤尔小屋</title>
  








</head>


<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

   <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/pidada" target="_blank" rel="noopener"><img style="position: absolute; top: 0; right: 0; border: 0" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">尤尔小屋</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Stay Foolish Stay Hungry</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-links">
          <a href="/links/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            links
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.renpeter.cn/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PiQianChao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cunshang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="尤尔小屋">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">plotly-express-11-plotly实现柱状图</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-29T17:02:52+08:00">
                2020-6-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/datavisual/" itemprop="url" rel="index">
                    <span itemprop="name">datavisual</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/datavisual/px/" itemprop="url" rel="index">
                    <span itemprop="name">px</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/06/29/plotly-express-11-plotly实现柱状图.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  14
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>本文中介绍的是如何在<code>plotly</code>中绘制柱状图<code>Bar</code></p>
<ul>
<li>基于<code>px.bar</code></li>
<li>基于<code>go.Bar</code></li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99kmj65uj30ak086aa8.jpg" alt=""></p>
<a id="more"></a>
<h3 id="good-method">good method</h3>
<p>一个很好的方法，如何将S型数据的index和value通过不同的颜色柱展示出来</p>
<h4 id="数据">数据</h4>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggilyeghzgj30x80q6jux.jpg" alt=""></p>
<p>文本显示部分</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggilz9nhsvj31b40q4q6f.jpg" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 颜色的随机生成：#123456  # 加上6位数字构成</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_color_generator</span><span class="params">(number_of_colors)</span>:</span></span><br><span class="line">    color = [<span class="string">"#"</span>+<span class="string">''</span>.join([random.choice(<span class="string">'0123456789ABCDEF'</span>) <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">6</span>)])</span><br><span class="line">                 <span class="keyword">for</span> i <span class="keyword">in</span> range(number_of_colors)]</span><br><span class="line">    <span class="keyword">return</span> color</span><br><span class="line"></span><br><span class="line">trace = go.Bar(</span><br><span class="line">    x = cnt_srs.index,</span><br><span class="line">    y = cnt_srs.values,</span><br><span class="line">    text = text,</span><br><span class="line">    marker = dict(</span><br><span class="line">        color = random_color_generator(<span class="number">100</span>),</span><br><span class="line">        line = dict(color=<span class="string">'rgb(8, 48, 107)'</span>,   <span class="comment"># 柱子的外围线条颜色和宽度</span></span><br><span class="line">                    width = <span class="number">1.5</span>)</span><br><span class="line">    ),</span><br><span class="line">    opacity = <span class="number">0.7</span>   <span class="comment"># 透明度设置</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据部分：一定是列表的形式</span></span><br><span class="line">data = [trace]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 布局设置</span></span><br><span class="line">layout = go.Layout(</span><br><span class="line">    title = <span class="string">'Prime genre'</span>,   <span class="comment"># 整个图的标题</span></span><br><span class="line">    margin = dict(</span><br><span class="line">        l = <span class="number">100</span>   <span class="comment"># 左边距离</span></span><br><span class="line">    ),</span><br><span class="line">    xaxis = dict(</span><br><span class="line">        title = <span class="string">'Type of app'</span>   <span class="comment"># 2个轴的标题</span></span><br><span class="line">    ),</span><br><span class="line">    yaxis = dict(</span><br><span class="line">        title = <span class="string">'Count of app'</span></span><br><span class="line">    ),</span><br><span class="line">    width = <span class="number">900</span>,  <span class="comment"># figure的宽高</span></span><br><span class="line">    height = <span class="number">500</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fig = go.Figure(data=data, layout=layout)</span><br><span class="line"></span><br><span class="line">fig.update_traces(textposition=<span class="string">"outside"</span>)</span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<h4 id="结果">结果</h4>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggimgjy4g0j31ei0qiaed.jpg" alt=""></p>
<p>每次运行的结果不同，因为引入了随机模块</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ggimi91c08j31cc0q8dk3.jpg" alt=""></p>
<h3 id="导入库">导入库</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> plotly_express <span class="keyword">as</span> px</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objects <span class="keyword">as</span> go</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> dash</span><br><span class="line"><span class="keyword">import</span> dash_core_components <span class="keyword">as</span> dcc</span><br><span class="line"><span class="keyword">import</span> dash_html_components <span class="keyword">as</span> html</span><br></pre></td></tr></table></figure>
<h3 id="基于px-bar实现">基于px.bar实现</h3>
<p>With <code>px.bar</code>, each row of the DataFrame is represented as a rectangular mark.</p>
<h4 id="basic">basic</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data_canada = px.data.gapminder().query(<span class="string">"country == 'Canada'"</span>)</span><br><span class="line">fig = px.bar(data_canada, x=<span class="string">"year"</span>, y=<span class="string">"pop"</span>)</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99kskg13j30qd0eo74q.jpg" alt=""></p>
<h4 id="自定义customize">自定义customize</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fig = px.bar(data_canada, x=<span class="string">"year"</span>,y=<span class="string">"pop"</span>,</span><br><span class="line">             color=<span class="string">"lifeExp"</span>,height=<span class="number">400</span>,</span><br><span class="line">             hover_data=[<span class="string">"lifeExp"</span>,<span class="string">"gdpPercap"</span>],</span><br><span class="line">             labels=&#123;<span class="string">"pop"</span>:<span class="string">"population of Canada"</span>&#125;  <span class="comment"># 将y轴的名称pop改掉</span></span><br><span class="line">            )</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99kwv7fdj30sw0dujs9.jpg" alt=""></p>
<h4 id="堆叠柱状图">堆叠柱状图</h4>
<p>When several rows share the same value of <code>x</code> (here Female or Male), the rectangles are stacked on top of one another by default.</p>
<p>通过堆叠的方式展示</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99mqtkhjj30tf0ftjtw.jpg" alt=""></p>
<p>通过分组的方式展示</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99l49hy9j30t60cr758.jpg" alt=""></p>
<h4 id="facetted-subplots">facetted subplots</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fig = px.bar(df, x=<span class="string">"sex"</span>,y=<span class="string">"total_bill"</span>,</span><br><span class="line">             color=<span class="string">"smoker"</span>,barmode=<span class="string">"group"</span>,</span><br><span class="line">             facet_col=<span class="string">"day"</span>,   <span class="comment">#  in the horizontal direction 水平方向</span></span><br><span class="line">             facet_row=<span class="string">"time"</span>,  <span class="comment">#  in the vertical direction  竖直方向</span></span><br><span class="line">             category_orders=&#123;<span class="string">"day"</span>:[<span class="string">"Thur"</span>,<span class="string">"Fri"</span>,<span class="string">"Sat"</span>,<span class="string">"Sun"</span>],  <span class="comment"># 2个方向的具体分类情况</span></span><br><span class="line">                             <span class="string">"time"</span>:[<span class="string">"Lunch"</span>,<span class="string">"Dinner"</span>]&#125;)</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99l7hrd7j30rv0e0aaq.jpg" alt=""></p>
<h3 id="基于go-Bar实现">基于go.Bar实现</h3>
<h4 id="basic-v2">basic</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">animals = [<span class="string">"cat"</span>,<span class="string">"dog"</span>,<span class="string">"pig"</span>,<span class="string">"chicken"</span>,<span class="string">"monkeys"</span>]</span><br><span class="line">values = [<span class="number">20</span>,<span class="number">50</span>,<span class="number">40</span>,<span class="number">60</span>,<span class="number">30</span>]</span><br><span class="line"></span><br><span class="line">fig = go.Figure(data=(go.Bar(x=animals,y=values)))</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99lb98koj30og0b5gls.jpg" alt=""></p>
<h4 id="grouped-bar-chart">grouped bar chart</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">animals = [<span class="string">"cat"</span>,<span class="string">"dog"</span>,<span class="string">"pig"</span>,<span class="string">"chicken"</span>,<span class="string">"monkeys"</span>]</span><br><span class="line">values_1 = [<span class="number">20</span>,<span class="number">50</span>,<span class="number">40</span>,<span class="number">60</span>,<span class="number">40</span>]</span><br><span class="line">values_2 = [<span class="number">40</span>,<span class="number">70</span>,<span class="number">20</span>,<span class="number">50</span>,<span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">fig = go.Figure(data=[</span><br><span class="line">    go.Bar(x=animals,y=values_1,name=<span class="string">"shenzhen Zoo"</span>),  <span class="comment">#  多组数据用列表的形式</span></span><br><span class="line">    go.Bar(x=animals,y=values_2,name=<span class="string">"guangzhou Zoo"</span>),</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment"># change the bar mode：更新柱状图的mode</span></span><br><span class="line">fig.update_layout(barmode=<span class="string">"group"</span>)   <span class="comment"># 分组的形式！！！</span></span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99lfhqmsj30th0kcq3y.jpg" alt=""></p>
<h4 id="stack-bar-chart">stack bar chart</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">animals = [<span class="string">"cat"</span>,<span class="string">"dog"</span>,<span class="string">"pig"</span>,<span class="string">"chicken"</span>,<span class="string">"monkeys"</span>]</span><br><span class="line">values_1 = [<span class="number">20</span>,<span class="number">50</span>,<span class="number">40</span>,<span class="number">60</span>,<span class="number">40</span>]</span><br><span class="line">values_2 = [<span class="number">40</span>,<span class="number">70</span>,<span class="number">20</span>,<span class="number">50</span>,<span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">fig = go.Figure(data=[</span><br><span class="line">    go.Bar(x=animals,y=values_1,name=<span class="string">"shenzhen Zoo"</span>),  <span class="comment">#  多组数据用列表的形式</span></span><br><span class="line">    go.Bar(x=animals,y=values_2,name=<span class="string">"guangzhou Zoo"</span>),</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment"># change the bar mode：更新柱状图的mode</span></span><br><span class="line">fig.update_layout(barmode=<span class="string">"stack"</span>)   <span class="comment"># 堆叠图的形式</span></span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99lkct34j30qg0c474k.jpg" alt=""></p>
<h3 id="Bar-Chart-with-Hover-Text">Bar Chart with Hover Text</h3>
<ul>
<li>悬停文字信息的显示</li>
<li>x轴标签的旋转</li>
<li>y轴上文本信息的显示和位置显示（auto/outside/inside）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="string">'Product A'</span>, <span class="string">'Product B'</span>, <span class="string">'Product C'</span>]</span><br><span class="line">y = [<span class="number">20</span>, <span class="number">14</span>, <span class="number">23</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the hovertext kw argument for hover text</span></span><br><span class="line">fig = go.Figure(data=[go.Bar(x=x, y=y,</span><br><span class="line">                             text=y,textposition=<span class="string">"auto"</span>,  <span class="comment"># 矩形框中显示的文本text和文本的位置textposition</span></span><br><span class="line">                             hovertext=[<span class="string">'27% market share'</span>, <span class="string">'24% market share'</span>, <span class="string">'19% market share'</span>]) <span class="comment"># 悬停显示文本</span></span><br><span class="line">                     ])</span><br><span class="line"></span><br><span class="line"><span class="comment"># update_traces</span></span><br><span class="line">fig.update_traces(marker_color=<span class="string">'rgb(1,202,225)'</span>,</span><br><span class="line">                  marker_line_color=<span class="string">'rgb(108,10,0)'</span>,  <span class="comment"># 边框线条颜色</span></span><br><span class="line">                  marker_line_width=<span class="number">1.5</span>,   <span class="comment"># 矩形边框的线条粗细</span></span><br><span class="line">                  opacity=<span class="number">0.8</span></span><br><span class="line">                 )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 图表标题</span></span><br><span class="line">fig.update_layout(title_text=<span class="string">'January 2013 Sales Report'</span>,xaxis_tickangle=<span class="number">-45</span>) <span class="comment"># 标题 + x轴标签旋转45度</span></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99loux2jj30r90f4jrw.jpg" alt=""></p>
<h3 id="Controlling-text-fontsize-with-uniformtext">Controlling text fontsize with uniformtext</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df = px.data.gapminder().query(<span class="string">"continent == 'Europe' and year == 2007 and pop &gt; 2.e6"</span>)</span><br><span class="line">fig = px.bar(df, x=<span class="string">"country"</span>, y=<span class="string">"pop"</span>, text=<span class="string">"pop"</span>)</span><br><span class="line"></span><br><span class="line">fig.update_traces(texttemplate=<span class="string">"%&#123;text:.2s&#125;"</span>,  <span class="comment"># 数字保留2位有效数字</span></span><br><span class="line">                  textposition=<span class="string">"outside"</span>)  <span class="comment"># 数字显示在外面</span></span><br><span class="line">fig.update_layout(uniformtext_minsize=<span class="number">10</span>, uniformtext_mode=<span class="string">"hide"</span>)</span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99na5v6tj30qf0cimyp.jpg" alt=""></p>
<h3 id="Customizing-Individual-Bar-Widths">Customizing Individual Bar Widths</h3>
<p>如何自定义矩形框的宽度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fig = go.Figure(data=[go.Bar(</span><br><span class="line">    x=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5.5</span>, <span class="number">10</span>],</span><br><span class="line">    y=[<span class="number">10</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>],</span><br><span class="line">    width=[<span class="number">0.8</span>, <span class="number">0.8</span>, <span class="number">0.8</span>, <span class="number">3.5</span>, <span class="number">4</span>] <span class="comment"># 指定每个矩形框的宽度</span></span><br><span class="line">)])</span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99lxt0nzj30po0ca3yo.jpg" alt=""></p>
<h3 id="Bar-Chart-with-Relative-Barmode">Bar Chart with Relative Barmode</h3>
<p>With “relative” barmode, the bars are stacked on top of one another, with negative values below the axis, positive values above.</p>
<p>通过barmode参数的relative来设置</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99m0k42zj30t90igmxy.jpg" alt=""></p>
<h3 id="Bar-Chart-with-Sorted-or-Ordered-Categories">Bar Chart with Sorted or Ordered Categories</h3>
<p>Set <code>categoryorder</code> to <code>&quot;category ascending&quot;</code> or <code>&quot;category descending&quot;</code> for the alphanumerical order of the category names or <code>&quot;total ascending&quot;</code> or <code>&quot;total descending&quot;</code> for numerical order of values. <a href="https://plotly.com/python/reference/#layout-xaxis-categoryorder" target="_blank" rel="noopener">categoryorder</a> for more information.</p>
<p>Note that sorting the bars by a particular trace isn’t possible right now - it’s only possible to sort by the total values. Of course, you can always sort your data <em>before</em> plotting it if you need more customization.</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99m67hv6j30t20i3aar.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gg99mca1s6j30sh0hhmxt.jpg" alt=""></p>
<h3 id="参数">参数</h3>
<ul>
<li><strong>data_frame</strong> (<em>DataFrame</em> <em>or</em> <em>array-like</em> <em>or</em> <a href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank" rel="noopener"><em>dict</em></a>) – This argument needs to be passed for column names (and not keyword names) to be used. Array-like and dict are tranformed internally to a pandas DataFrame. Optional: if missing, a DataFrame gets constructed under the hood using the other arguments.</li>
<li><strong>x</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to position marks along the x axis in cartesian coordinates. Either <code>x</code> or <code>y</code> can optionally be a list of column references or array_likes, in which case the data will be treated as if it were ‘wide’ rather than ‘long’.</li>
<li><strong>y</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to position marks along the y axis in cartesian coordinates. Either <code>x</code> or <code>y</code> can optionally be a list of column references or array_likes, in which case the data will be treated as if it were ‘wide’ rather than ‘long’.</li>
<li><strong>color</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to assign color to marks.</li>
<li><strong>facet_row</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to assign marks to facetted subplots in the vertical direction.</li>
<li><strong>facet_col</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to assign marks to facetted subplots in the horizontal direction.</li>
<li><strong>facet_col_wrap</strong> (<a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a>) – Maximum number of facet columns. Wraps the column variable at this width, so that the column facets span multiple rows. Ignored if 0, and forced to 0 if <code>facet_row</code> or a <code>marginal</code> is set.</li>
<li><strong>hover_name</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like appear in bold in the hover tooltip.</li>
<li><strong>hover_data</strong> (<em>list of str</em> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a><em>, or</em> <em>Series</em> <em>or</em> <em>array-like</em>*, or* <a href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank" rel="noopener"><em>dict</em></a>) – Either a list of names of columns in <code>data_frame</code>, or pandas Series, or array_like objects or a dict with column names as keys, with values True (for default formatting) False (in order to remove this column from hover information), or a formatting string, for example ‘:.3f’ or ‘<a href="https://plotly.com/python-api-reference/generated/plotly.express.bar.html#id1" target="_blank" rel="noopener">|</a>%a’ or list-like data to appear in the hover tooltip or tuples with a bool or formatting string as first element, and list-like data to appear in hover as second element Values from these columns appear as extra data in the hover tooltip.</li>
<li><strong>custom_data</strong> (<em>list of str</em> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a><em>, or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either names of columns in <code>data_frame</code>, or pandas Series, or array_like objects Values from these columns are extra data, to be used in widgets or Dash callbacks for example. This data is not user-visible but is included in events emitted by the figure (lasso selection etc.)</li>
<li><strong>text</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like appear in the figure as text labels.</li>
<li><strong>error_x</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to size x-axis error bars. If <code>error_x_minus</code> is <code>None</code>, error bars will be symmetrical, otherwise <code>error_x</code> is used for the positive direction only.</li>
<li><strong>error_x_minus</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to size x-axis error bars in the negative direction. Ignored if <code>error_x</code> is <code>None</code>.</li>
<li><strong>error_y</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to size y-axis error bars. If <code>error_y_minus</code> is <code>None</code>, error bars will be symmetrical, otherwise <code>error_y</code> is used for the positive direction only.</li>
<li><strong>error_y_minus</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to size y-axis error bars in the negative direction. Ignored if <code>error_y</code> is <code>None</code>.</li>
<li><strong>animation_frame</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to assign marks to animation frames.</li>
<li><strong>animation_group</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener"><em>int</em></a> <em>or</em> <em>Series</em> <em>or</em> <em>array-like</em>) – Either a name of a column in <code>data_frame</code>, or a pandas Series or array_like object. Values from this column or array_like are used to provide object-constancy across animation frames: rows with matching [<code>](https://plotly.com/python-api-reference/generated/plotly.express.bar.html#id3)animation_group</code>s will be treated as if they describe the same object in each frame.</li>
<li><strong>category_orders</strong> (dict with str keys and list of str values (default <code>{}</code>)) – By default, in Python 3.6+, the order of categorical values in axes, legends and facets depends on the order in which these values are first encountered in <code>data_frame</code> (and no order is guaranteed by default in Python below 3.6). This parameter is used to force a specific ordering of values per column. The keys of this dict should correspond to column names, and the values should be lists of strings corresponding to the specific display order desired.</li>
<li><strong>labels</strong> (dict with str keys and str values (default <code>{}</code>)) – By default, column names are used in the figure for axis titles, legend entries and hovers. This parameter allows this to be overridden. The keys of this dict should correspond to column names, and the values should correspond to the desired label to be displayed.</li>
<li><strong>color_discrete_sequence</strong> (<em>list of str</em>) – Strings should define valid CSS-colors. When <code>color</code> is set and the values in the corresponding column are not numeric, values in that column are assigned colors by cycling through <code>color_discrete_sequence</code> in the order described in <code>category_orders</code>, unless the value of <code>color</code> is a key in <code>color_discrete_map</code>. Various useful color sequences are available in the <code>plotly.express.colors</code> submodules, specifically <code>plotly.express.colors.qualitative</code>.</li>
<li><strong>color_discrete_map</strong> (dict with str keys and str values (default <code>{}</code>)) – String values should define valid CSS-colors Used to override <code>color_discrete_sequence</code> to assign a specific colors to marks corresponding with specific values. Keys in <code>color_discrete_map</code> should be values in the column denoted by <code>color</code>. Alternatively, if the values of <code>color</code> are valid colors, the string <code>'identity'</code> may be passed to cause them to be used directly.</li>
<li><strong>color_continuous_scale</strong> (<em>list of str</em>) – Strings should define valid CSS-colors This list is used to build a continuous color scale when the column denoted by <code>color</code> contains numeric data. Various useful color scales are available in the <code>plotly.express.colors</code> submodules, specifically <code>plotly.express.colors.sequential</code>, <code>plotly.express.colors.diverging</code> and <code>plotly.express.colors.cyclical</code>.</li>
<li><strong>range_color</strong> (<em>list of two numbers</em>) – If provided, overrides auto-scaling on the continuous color scale.</li>
<li><strong>color_continuous_midpoint</strong> (number (default <code>None</code>)) – If set, computes the bounds of the continuous color scale to have the desired midpoint. Setting this value is recommended when using <code>plotly.express.colors.diverging</code> color scales as the inputs to <code>color_continuous_scale</code>.</li>
<li><strong>opacity</strong> (<a href="https://docs.python.org/3/library/functions.html#float" target="_blank" rel="noopener"><em>float</em></a>) – Value between 0 and 1. Sets the opacity for markers.</li>
<li><strong>orientation</strong> (str, one of <code>'h'</code> for horizontal or <code>'v'</code> for vertical.) – (default <code>'v'</code> if <code>x</code> and <code>y</code> are provided and both continous or both categorical, otherwise <code>'v'</code>(<code>‘h’</code>) if <code>x</code>(<code>y</code>) is categorical and <code>y</code>(<code>x</code>) is continuous, otherwise <code>'v'</code>(<code>‘h’</code>) if only <code>x</code>(<code>y</code>) is provided)</li>
<li><strong>barmode</strong> (str (default <code>'relative'</code>)) – One of <code>'group'</code>, <code>'overlay'</code> or <code>'relative'</code> In <code>'relative'</code> mode, bars are stacked above zero for positive values and below zero for negative values. In <code>'overlay'</code> mode, bars are drawn on top of one another. In <code>'group'</code> mode, bars are placed beside each other.</li>
<li><strong>log_x</strong> (boolean (default <code>False</code>)) – If <code>True</code>, the x-axis is log-scaled in cartesian coordinates.</li>
<li><strong>log_y</strong> (boolean (default <code>False</code>)) – If <code>True</code>, the y-axis is log-scaled in cartesian coordinates.</li>
<li><strong>range_x</strong> (<em>list of two numbers</em>) – If provided, overrides auto-scaling on the x-axis in cartesian coordinates.</li>
<li><strong>range_y</strong> (<em>list of two numbers</em>) – If provided, overrides auto-scaling on the y-axis in cartesian coordinates.</li>
<li><strong>title</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a>) – The figure title.</li>
<li><strong>template</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener"><em>str</em></a> <em>or</em> <a href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank" rel="noopener"><em>dict</em></a> <em>or</em> <em>plotly.graph_objects.layout.Template instance</em>) – The figure template name (must be a key in plotly.io.templates) or definition.</li>
<li><strong>width</strong> (int (default <code>None</code>)) – The figure width in pixels.</li>
<li><strong>height</strong> (int (default <code>None</code>)) – The figure height in pixels.</li>
</ul>

      
    </div>
    
    
    

<div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html">plotly-express-11-plotly实现柱状图</a></p>
  <p><span>发布时间:</span>2020年06月29日 - 17:06</p>
  <p><span>原始链接:</span><a href="/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html" title="plotly-express-11-plotly实现柱状图">http://www.renpeter.cn/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://www.renpeter.cn/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
	  $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
	    });
    });  
</script>

      
</div>


    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>Coffee or Tea</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="PiQianChao WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/pandas/" rel="tag"># pandas</a>
          
            <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag"># 可视化</a>
          
            <a href="/tags/px/" rel="tag"># px</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/06/29/plotly-express-10-plotly%E5%AE%9E%E7%8E%B0%E9%A5%BC%E5%9B%BE.html" rel="next" title="plotly-express-10-plotly实现饼图">
                <i class="fa fa-chevron-left"></i> plotly-express-10-plotly实现饼图
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/03/%E6%B7%B1%E5%9C%B3%E7%A7%9F%E6%88%BF%E4%B9%8B%E6%97%85.html" rel="prev" title="深圳租房之旅">
                深圳租房之旅 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/cunshang.jpg"
                alt="PiQianChao" />
            
              <p class="site-author-name" itemprop="name">PiQianChao</p>
              <p class="site-description motion-element" itemprop="description">My Blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">421</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">38</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/pidada" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:pichaochao1119@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#good-method"><span class="nav-number">1.</span> <span class="nav-text">good method</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#数据"><span class="nav-number">1.1.</span> <span class="nav-text">数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#结果"><span class="nav-number">1.2.</span> <span class="nav-text">结果</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导入库"><span class="nav-number">2.</span> <span class="nav-text">导入库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于px-bar实现"><span class="nav-number">3.</span> <span class="nav-text">基于px.bar实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#basic"><span class="nav-number">3.1.</span> <span class="nav-text">basic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义customize"><span class="nav-number">3.2.</span> <span class="nav-text">自定义customize</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#堆叠柱状图"><span class="nav-number">3.3.</span> <span class="nav-text">堆叠柱状图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#facetted-subplots"><span class="nav-number">3.4.</span> <span class="nav-text">facetted subplots</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于go-Bar实现"><span class="nav-number">4.</span> <span class="nav-text">基于go.Bar实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#basic-v2"><span class="nav-number">4.1.</span> <span class="nav-text">basic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#grouped-bar-chart"><span class="nav-number">4.2.</span> <span class="nav-text">grouped bar chart</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#stack-bar-chart"><span class="nav-number">4.3.</span> <span class="nav-text">stack bar chart</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bar-Chart-with-Hover-Text"><span class="nav-number">5.</span> <span class="nav-text">Bar Chart with Hover Text</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Controlling-text-fontsize-with-uniformtext"><span class="nav-number">6.</span> <span class="nav-text">Controlling text fontsize with uniformtext</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Customizing-Individual-Bar-Widths"><span class="nav-number">7.</span> <span class="nav-text">Customizing Individual Bar Widths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bar-Chart-with-Relative-Barmode"><span class="nav-number">8.</span> <span class="nav-text">Bar Chart with Relative Barmode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bar-Chart-with-Sorted-or-Ordered-Categories"><span class="nav-number">9.</span> <span class="nav-text">Bar Chart with Sorted or Ordered Categories</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数"><span class="nav-number">10.</span> <span class="nav-text">参数</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

	
	
		<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
		<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
		<div class="widget-wrap">
			<h3 class="widget-title">标签云</h3>
			<div id="myCanvasContainer" class="widget tagcloud">
			<canvas width="250" height="250" id="resCanvas" style="width=100%">
				 <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/" rel="tag">Hadoop</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/" rel="tag">Hive</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JJ/" rel="tag">JJ</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leetcode/" rel="tag">Leetcode</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/" rel="tag">NLP</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tool/" rel="tag">Tool</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/d3/" rel="tag">d3</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dash/" rel="tag">dash</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/" rel="tag">go</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kaggle/" rel="tag">kaggle</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/" rel="tag">numpy</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/" rel="tag">pandas</a><span class="tag-list-count">43</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/px/" rel="tag">px</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">33</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlzoo/" rel="tag">sqlzoo</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%92%E8%81%94%E7%BD%91/" rel="tag">互联网</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9F%9F%E9%93%BE/" rel="tag">区域链</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%B4%E6%81%A9%E8%BE%BE/" rel="tag">吴恩达</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a><span class="tag-list-count">43</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%90%E9%95%BF/" rel="tag">成长</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">51</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/" rel="tag">时间序列</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%9C%B3/" rel="tag">深圳</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E6%BC%82/" rel="tag">深漂</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB/" rel="tag">生活</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%B5%E5%BD%B1/" rel="tag">电影</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%8F%E6%B5%8E/" rel="tag">经济</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E6%88%91%E7%AE%A1%E7%90%86/" rel="tag">自我管理</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA/" rel="tag">计算机</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%85%E8%AF%BB/" rel="tag">阅读</a><span class="tag-list-count">25</span></li></ul>
			</canvas>
			</div>
		</div>
	

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PiQianChao</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共527.1k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="true"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://pidada.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://www.renpeter.cn/2020/06/29/plotly-express-11-plotly%E5%AE%9E%E7%8E%B0%E6%9F%B1%E7%8A%B6%E5%9B%BE.html';
          this.page.identifier = '2020/06/29/plotly-express-11-plotly实现柱状图.html';
          this.page.title = 'plotly-express-11-plotly实现柱状图';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://pidada.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  




<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


</body>
</html>
